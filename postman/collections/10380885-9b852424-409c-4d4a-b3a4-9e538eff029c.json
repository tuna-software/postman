{
	"info": {
		"_postman_id": "10380885-9b852424-409c-4d4a-b3a4-9e538eff029c",
		"name": "Tuna Walkthrough",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "PCI",
			"item": [
				{
					"name": "1. Init Payment (token api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									"var jsondata = JSON.parse(pm.response.text());\r",
									"if (jsondata.paymentKey != null){\r",
									"    if (jsondata.paymentKey.split(':') != null){\r",
									"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }else{\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-50f43828-8939-4306-8deb-cfc22c201d3c",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1\r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"1\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"CardNumber\": \"4111111111111111\",\r\n                    \"CardHolderName\": \"Authorized\",\r\n                    \"ExpirationMonth\": 6,\r\n                    \"ExpirationYear\": 2032,\r\n                    \"CVV\": \"123\",\r\n                    \"SingleUse\": true,\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\",\r\n        \"antifraud\": {\r\n            \"data\" : {\r\n                \"ReturnOriginalResponse\" : true\r\n            }\r\n        }\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/integrations/pci/init",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"integrations",
								"pci",
								"init"
							]
						}
					},
					"response": []
				},
				{
					"name": "2. Init Payment Multiple Fingerprints (token api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									"var jsondata = JSON.parse(pm.response.text());\r",
									"if (jsondata.paymentKey != null){\r",
									"    if (jsondata.paymentKey.split(':') != null){\r",
									"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }else{\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-32d30126-b80b-40e1-b18c-2de624a6b056",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1\r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"1\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"CardNumber\": \"4111111111111111\",\r\n                    \"CardHolderName\": \"Authorized\",\r\n                    \"ExpirationMonth\": 6,\r\n                    \"ExpirationYear\": 2032,\r\n                    \"CVV\": \"123\",\r\n                    \"SingleUse\": true,\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"Sessions\": [\r\n            {\r\n                \"MercadoPago\": \"{{$randomAlphaNumeric}}\"\r\n            },\r\n            {\r\n                \"ClearSale\": \"{{$randomAlphaNumeric}}\"\r\n            },\r\n            {\r\n                \"Koin\": \"{{$randomAlphaNumeric}}\"\r\n            }\r\n        ],\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/integrations/pci/init",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"integrations",
								"pci",
								"init"
							]
						}
					},
					"response": []
				},
				{
					"name": "New Request",
					"id": "10380885-55b946e4-1e34-4e22-aa33-70f8df11fcb6",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				}
			],
			"id": "10380885-fce35b5d-ae15-4bfc-a3a8-7df2853c4ab3"
		},
		{
			"name": "Credit Card",
			"item": [
				{
					"name": "1. New Session (token api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "534dd2a2-4ef9-4146-bef3-5f1e24ee3693",
								"exec": [
									"var jsonData = JSON.parse(pm.response.text() );\r",
									"pm.collectionVariables.set(\"sessionid\", jsonData.sessionId);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "0c390071-6fcb-4c1b-baf2-951129b2d91e",
								"exec": [
									"pm.collectionVariables.set(\"customerName\", \"{{$randomFirstName}} {{$randomLastName}}\");\r",
									"pm.collectionVariables.set(\"customerEmail\", \"{{$randomEmail}}\");\r",
									"pm.collectionVariables.set(\"customerId\", \"{{$randomUUID}}\");\r",
									"var puid = \"{{$randomUUID}}\";\r",
									"pm.collectionVariables.set(\"partneruniqueid\", puid);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-5973f7af-357b-4dcf-bd3d-22db72886ce3",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{ \r\n  \"Customer\": {\r\n    \"ID\": \"{{customerId}}\",\r\n    \"Name\": \"{{customerName}}\",\r\n    \"Email\": \"{{customerEmail}}\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/NewSession",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"NewSession"
							]
						},
						"description": "First step is generating a new session.\n\nThe sessionId will be stored into a variable that's going to be used by the other requests in this collection(that need a sessionId)."
					},
					"response": []
				},
				{
					"name": "2. Generate (token api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "534dd2a2-4ef9-4146-bef3-5f1e24ee3693",
								"exec": [
									"var jsonData = JSON.parse(pm.response.text() );\r",
									"pm.collectionVariables.set(\"cardtoken\", jsonData.token);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "0c390071-6fcb-4c1b-baf2-951129b2d91e",
								"exec": [
									"pm.collectionVariables.set(\"customerName\", \"{{$randomFirstName}} {{$randomLastName}}\");\r",
									"pm.collectionVariables.set(\"customerEmail\", \"{{$randomEmail}}\");\r",
									"pm.collectionVariables.set(\"customerId\", \"{{$randomUUID}}\");\r",
									"var puid = \"{{$randomUUID}}\";\r",
									"pm.collectionVariables.set(\"partneruniqueid\", puid);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-12a843c9-1db5-48bd-ad9b-cc2fd6cb70fa",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"SessionId\": \"{{sessionid}}\",\r\n    \"Card\": {\r\n        \"CardNumber\": \"4111111111111111\",\r\n        \"CardHolderName\": \"Authorized\",\r\n        \"ExpirationMonth\": 6,\r\n        \"ExpirationYear\": 2032,\r\n        \"CVV\": \"123\",\r\n        \"SingleUse\": false\r\n    }\r\n}"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/Generate",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"Generate"
							]
						},
						"description": "First step is generating a new session.\n\nThe sessionId will be stored into a variable that's going to be used by the other requests in this collection(that need a sessionId)."
					},
					"response": []
				},
				{
					"name": "2. Init Payment (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									"var jsondata = JSON.parse(pm.response.text());\r",
									"if (jsondata.paymentKey != null){\r",
									"    if (jsondata.paymentKey.split(':') != null){\r",
									"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }else{\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-d405575f-7eae-4c87-be9e-e7fd2c787d34",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1                \r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"1\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"{{cardtoken}}\",\r\n                    \"tokenprovider\": \"Tuna\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Init",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Init"
							]
						}
					},
					"response": []
				},
				{
					"name": "3. Capture (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2f5e5fac-1371-43a7-a7d2-6ed0b97711b2",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "e3eafc51-a2f6-49c0-b619-ac6e3c649b0c",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-f65da96c-e86c-464c-b5fa-069a35e5c672",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{token account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"amount\": {{amount}},\r\n  \"paymentKey\": \"{{paymentKey}}\"\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com//api/Payment/Capture",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"",
								"api",
								"Payment",
								"Capture"
							]
						}
					},
					"response": []
				},
				{
					"name": "4. List Saved Tokens (token api)",
					"id": "10380885-9b1853ed-a518-4c5b-8246-02850d80b357",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"SessionId\": \"{{sessionid}}\"\r\n}\r\n"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/List",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"List"
							]
						}
					},
					"response": []
				},
				{
					"name": "5. Bind CVV (token api)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "4b496ccb-304b-42ae-a353-cae24f49375a",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "a3d1f215-d533-49ca-a3e5-6107a03cddaa",
								"exec": [
									"var jsonData = JSON.parse(pm.response.text());\r",
									"if (jsonData.authenticationInformation != null)\r",
									"{   \r",
									"    pm.collectionVariables.set(\"TransactionId\", jsonData.authenticationInformation.transactionId);\r",
									"    pm.collectionVariables.set(\"ReferenceId\", jsonData.authenticationInformation.referenceId);\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-766bc31b-8f47-4263-ad5a-4edde846730f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"token\": \"{{cardtoken}}\",\r\n    \"sessionId\": \"{{sessionid}}\",\r\n    \"CVV\": \"\",\r\n    \"AuthenticationInformation\": {\r\n        \"Code\": \"{{Code}}\"\r\n    }\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/Bind",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"Bind"
							]
						}
					},
					"response": []
				},
				{
					"name": "6. Init Payment with saved token (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									"var JSONDATA = JSON.parse(pm.response.text());\r",
									"if (JSONDATA.PAYMENTKEY != NULL){\r",
									"    if (JSONDATA.PAYMENTKEY.SPLIT(':') != NULL){\r",
									"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTID\", JSONDATA.PAYMENTKEY.SPLIT(':')[1]);\r",
									"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTKEY\", JSONDATA.PAYMENTKEY);\r",
									"    }else{\r",
									"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTKEY\", JSONDATA.PAYMENTKEY);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-2444f3ec-4af7-488c-9312-18c1c81f729b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1                \r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"1\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"{{cardtoken}}\",\r\n                    \"tokenprovider\": \"Tuna\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Init",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Init"
							]
						}
					},
					"response": []
				},
				{
					"name": "6. Init Payment with saved token (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									"var JSONDATA = JSON.parse(pm.response.text());\r",
									"if (JSONDATA.PAYMENTKEY != NULL){\r",
									"    if (JSONDATA.PAYMENTKEY.SPLIT(':') != NULL){\r",
									"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTID\", JSONDATA.PAYMENTKEY.SPLIT(':')[1]);\r",
									"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTKEY\", JSONDATA.PAYMENTKEY);\r",
									"    }else{\r",
									"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTKEY\", JSONDATA.PAYMENTKEY);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-2f4dd992-387a-4778-abe1-12f7edd1ec9b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1                \r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"1\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"{{cardtoken}}\",\r\n                    \"tokenprovider\": \"Tuna\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Init",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Init"
							]
						}
					},
					"response": []
				},
				{
					"name": "7. Init Payment with 2 methods at once (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									"var jsondata = JSON.parse(pm.response.text());\r",
									"if (jsondata.paymentKey != null){\r",
									"    if (jsondata.paymentKey.split(':') != null){\r",
									"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }else{\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-7752b4a7-2a13-4c65-a7ea-0b97561f418f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 2                \r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"PaymentMethodType\": \"D\",\r\n                \"Amount\": {{amount}},\r\n                \"Pix\": {\r\n                        \"Name\": \"{{$randomFirstName}} {{$randomLastName}}\",\r\n                        \"Document\": \"08714597799\",\r\n                        \"DocumentType\": \"CPF\",\r\n                        \"ExpirationSeconds\": 240\r\n                    }\r\n            },\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"1\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"{{cardtoken}}\",\r\n                    \"tokenprovider\": \"Tuna\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": 2,\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Init",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Init"
							]
						}
					},
					"response": []
				},
				{
					"name": "8. Init Payment with 2 methods at a time (method 1 of 2) (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									"var jsondata = JSON.parse(pm.response.text());\r",
									"if (jsondata.paymentKey != null){\r",
									"    if (jsondata.paymentKey.split(':') != null){\r",
									"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }else{\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									"pm.collectionVariables.set(\"reusablePartnerUniqueId\", crypto.randomUUID());"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-f3123649-dde2-4be7-936f-fec46a5ad0bb",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{reusablePartnerUniqueId}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 2                \r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"PaymentMethodType\": \"D\",\r\n                \"Amount\": {{amount}},\r\n                \"Pix\": {\r\n                        \"Name\": \"{{$randomFirstName}} {{$randomLastName}}\",\r\n                        \"Document\": \"08714597799\",\r\n                        \"DocumentType\": \"CPF\",\r\n                        \"ExpirationSeconds\": 240\r\n                    }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": 2,\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Init",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Init"
							]
						}
					},
					"response": []
				},
				{
					"name": "9. Init Payment with 2 methods at a time (method 2 of 2) (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									"var jsondata = JSON.parse(pm.response.text());\r",
									"if (jsondata.paymentKey != null){\r",
									"    if (jsondata.paymentKey.split(':') != null){\r",
									"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }else{\r",
									"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-da798c88-e908-447b-9453-7504d9da45ab",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{reusablePartnerUniqueId}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 2                \r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"1\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"{{cardtoken}}\",\r\n                    \"tokenprovider\": \"Tuna\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": 2,\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Init",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Init"
							]
						}
					},
					"response": []
				}
			],
			"id": "10380885-a0cb58ad-a790-4f63-9021-8d357e862b8e",
			"description": "Standard payment flow for a regular credit card transaction.\n\nMake sure your Tuna accont has an active credit card flow.\n\nIf the flow is not set to capture the transaction automatically you'll need to call the capture method after calling init.",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "c4ca3940-9296-49b3-9b83-7c0aab5692f9",
						"type": "text/javascript",
						"packages": {},
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "3429b198-338e-4a8d-98df-d26c9c6a9313",
						"type": "text/javascript",
						"packages": {},
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Tokenization",
			"item": [
				{
					"name": "1. New Session (token api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "534dd2a2-4ef9-4146-bef3-5f1e24ee3693",
								"exec": [
									"var jsonData = JSON.parse(pm.response.text() );\r",
									"pm.collectionVariables.set(\"sessionid\", jsonData.sessionId);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "0c390071-6fcb-4c1b-baf2-951129b2d91e",
								"exec": [
									"pm.collectionVariables.set(\"customerName\", \"{{$randomFirstName}} {{$randomLastName}}\");\r",
									"pm.collectionVariables.set(\"customerEmail\", \"{{$randomEmail}}\");\r",
									"pm.collectionVariables.set(\"customerId\", \"{{$randomUUID}}\");\r",
									"var puid = \"{{$randomUUID}}\";\r",
									"pm.collectionVariables.set(\"partneruniqueid\", puid);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-3360374f-a2ff-4d19-90ea-7308f4470028",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"auth": {
							"type": "apikey",
							"apikey": [
								{
									"key": "value",
									"value": "{{x-tuna-apptoken}}",
									"type": "string"
								},
								{
									"key": "key",
									"value": "x-tuna-apptoken",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{ \r\n  \"Customer\": {\r\n    \"ID\": \"{{customerId}}\",\r\n    \"Name\": \"{{customerName}}\",\r\n    \"Email\": \"{{customerEmail}}\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/NewSession",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"NewSession"
							]
						},
						"description": "First step is generating a new session.\n\nThe sessionId will be stored into a variable that's going to be used by the other requests in this collection(that need a sessionId)."
					},
					"response": []
				},
				{
					"name": "2. Generate (token api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "534dd2a2-4ef9-4146-bef3-5f1e24ee3693",
								"exec": [
									"var jsonData = JSON.parse(pm.response.text() );\r",
									"pm.collectionVariables.set(\"cardtoken\", jsonData.token);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "0c390071-6fcb-4c1b-baf2-951129b2d91e",
								"exec": [
									"pm.collectionVariables.set(\"customerName\", \"{{$randomFirstName}} {{$randomLastName}}\");\r",
									"pm.collectionVariables.set(\"customerEmail\", \"{{$randomEmail}}\");\r",
									"pm.collectionVariables.set(\"customerId\", \"{{$randomUUID}}\");\r",
									"var puid = \"{{$randomUUID}}\";\r",
									"pm.collectionVariables.set(\"partneruniqueid\", puid);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-75bc6148-268a-444f-8897-e8e89a7d4a2a",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"SessionId\": \"{{sessionid}}\",\r\n    \"Card\": {\r\n        \"CardNumber\": \"4111111111111111\",\r\n        \"CardHolderName\": \"{{$randomFullName}}\",\r\n        \"ExpirationMonth\": 6,\r\n        \"ExpirationYear\": 2032,\r\n        \"CVV\": \"123\",\r\n        \"SingleUse\": false\r\n    }\r\n}"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/Generate",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"Generate"
							]
						},
						"description": "First step is generating a new session.\n\nThe sessionId will be stored into a variable that's going to be used by the other requests in this collection(that need a sessionId)."
					},
					"response": []
				},
				{
					"name": "3. List Saved Tokens (token api)",
					"id": "10380885-beaf9f17-d2db-4247-8cbe-b597c8563927",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"SessionId\": \"{{sessionid}}\"\r\n}\r\n"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/List",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"List"
							]
						}
					},
					"response": []
				},
				{
					"name": "4. Bind CVV (token api)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "4b496ccb-304b-42ae-a353-cae24f49375a",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "a3d1f215-d533-49ca-a3e5-6107a03cddaa",
								"exec": [
									"var jsonData = JSON.parse(pm.response.text());\r",
									"if (jsonData.authenticationInformation != null)\r",
									"{   \r",
									"    pm.collectionVariables.set(\"TransactionId\", jsonData.authenticationInformation.transactionId);\r",
									"    pm.collectionVariables.set(\"ReferenceId\", jsonData.authenticationInformation.referenceId);\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-c4a6d003-8903-46a3-a4a2-5583394fed89",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"token\": \"{{cardtoken}}\",\r\n    \"sessionId\": \"{{sessionid}}\",\r\n    \"CVV\": \"\",\r\n    \"AuthenticationInformation\": {\r\n        \"Code\": \"{{Code}}\"\r\n    }\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/Bind",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"Bind"
							]
						}
					},
					"response": []
				},
				{
					"name": "5. Delete Token (token pai) Copy",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ec4de24a-2d0e-46b9-91ed-e2627a861a1e",
								"exec": [
									"var url = 'http' + pm.environment.get(\"ssl\") + '://' + pm.environment.get(\"tokenapi\") + '/api/Token/Delete';",
									"const postRequest = {",
									"  url: url,",
									"  method: 'OPTIONS',",
									"  header: {",
									"    'Content-Type': 'application/json',",
									"    'Access-Control-Request-Method': 'POST'",
									"  }",
									"};",
									"pm.sendRequest(postRequest, (error, response) => {",
									"  console.log(error ? error : response);",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-dcd85f96-2703-4f54-9e3a-ce4b846d11f4",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"sessionID\": \"{{sessionid}}\",\r\n   \"token\": \"{{cardtoken}}\"\r\n}\r\n"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/Delete",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"Delete"
							]
						}
					},
					"response": []
				},
				{
					"name": "6. Proxy (token api)",
					"id": "10380885-d5df97ef-3930-4881-8498-4e96a728789c",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "apikey",
							"apikey": [
								{
									"key": "key",
									"value": "Tuna-AppToken",
									"type": "string"
								},
								{
									"key": "value",
									"value": "{{x-tuna-apptoken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Tuna-Session",
								"value": "{{sessionid}}"
							},
							{
								"key": "Tuna-Forward-To",
								"value": "https://postman-echo.com/post"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"Card\": {\n        \"CardNumber\": \"{{cardtoken}}\",\n        \"Foo\": \"Bar\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Proxy",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Proxy"
							]
						},
						"description": "Generated from cURL: curl -k -v --location https://token.tunagateway.com/proxy \\\n--header \"Tuna-AppToken: af4f0bc5-\" \\\n--header \"Tuna-Session: R7XgGS3RMNdLXazJVcuU=\" \\\n--header \"Tuna-Forward-To: https://postman-echo.com/post\" \\  \n--header 'Content-Type: application/json' \\\n--data-raw '{\n\t\"Card\": {\n        \"CardNumber\": :\"ct_MGMzYzlhOGUyZmRl0\",\n        \"CardHolderName\": \"teste teste\",\n\t\t\"ExpirationMonth\": 8,\n\t\t\"ExpirationYear\": 2026,\n\t\t\"SingleUse\": true,\n\t\t\"CVV\": \"851\"\n    }\n}'"
					},
					"response": []
				},
				{
					"name": "7. Validate Session (token api) Copy",
					"id": "10380885-13fa06de-c218-4213-8246-5585d551ef94",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"SessionId\": \"{{sessionid}}\"\r\n}\r\n"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/ValidateSession",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"ValidateSession"
							]
						}
					},
					"response": []
				}
			],
			"id": "10380885-25ee873e-fb5e-4d90-95c3-a35eb9454abd",
			"description": "This set of APIs is intended for customers that use solely out credit card vault product(tokenization api).\n\nCreating a session is the first step as a sessionid is always needed.\n\nThen you can create and manage credit card tokens.\n\nThe proxy method can be used to send requests to PCI entities through Tuna.\n\nWe'll replace the token with the credit card data and send you the reponse back.",
			"auth": {
				"type": "noauth"
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "6ab6aa1e-4dad-461c-a177-b45576bd1e2a",
						"type": "text/javascript",
						"packages": {},
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "97cfed32-ccbe-4711-8ed8-2433da8b5503",
						"type": "text/javascript",
						"packages": {},
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "3DS",
			"item": [
				{
					"name": "3DS using pure js",
					"item": [
						{
							"name": "1. New Session (token api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "534dd2a2-4ef9-4146-bef3-5f1e24ee3693",
										"exec": [
											"var jsonData = JSON.parse(pm.response.text() );\r",
											"pm.collectionVariables.set(\"sessionid\", jsonData.sessionId);"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "0c390071-6fcb-4c1b-baf2-951129b2d91e",
										"exec": [
											"pm.collectionVariables.set(\"customerName\", \"{{$randomFirstName}} {{$randomLastName}}\");\r",
											"pm.collectionVariables.set(\"customerEmail\", \"{{$randomEmail}}\");\r",
											"pm.collectionVariables.set(\"customerId\", \"{{$randomUUID}}\");\r",
											"var puid = \"{{$randomUUID}}\";\r",
											"pm.collectionVariables.set(\"partneruniqueid\", puid);"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"id": "10380885-4fa44fa8-1fba-4909-9754-c7363acb5647",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{ \r\n  \"Customer\": {\r\n    \"ID\": \"{{customerId}}\",\r\n    \"Name\": \"{{customerName}}\",\r\n    \"Email\": \"{{customerEmail}}\"\r\n  },\r\n  \"PaymentAccount\": \"{{x-tuna-account}}\",\r\n  \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n  \"Is3dsTest\": true\r\n}"
								},
								"url": {
									"raw": "https://token.tunagateway.com/api/Token/NewSession",
									"protocol": "https",
									"host": [
										"token",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Token",
										"NewSession"
									]
								},
								"description": "First step is generating a new session.\n\nThe sessionId will be stored into a variable that's going to be used by the other requests in this collection(that need a sessionId)."
							},
							"response": []
						},
						{
							"name": "2.a Init / Credit (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
										"exec": [
											"var jsondata = JSON.parse(pm.response.text());\r",
											"if (jsondata.paymentKey != null){\r",
											"    if (jsondata.paymentKey.split(':') != null){\r",
											"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }else{\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-990cf254-3cbc-4d2e-aae0-52efb6201360",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-tuna-account",
										"value": "{{x-tuna-account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1\r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"7\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"\", /* Insert token here */\r\n                    \"tokenprovider\": \"Tuna\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                },\r\n                \"AuthenticationInformation\": {\r\n                    \"Code\": \"{{sessionid}}\",\r\n                    \"ReferenceId\": \"\", \r\n                    \"TransactionId\": \"\"\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						},
						{
							"name": "2.b Init / Debit (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
										"exec": [
											"var jsondata = JSON.parse(pm.response.text());\r",
											"if (jsondata.paymentKey != null){\r",
											"    if (jsondata.paymentKey.split(':') != null){\r",
											"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }else{\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-edbfac67-0184-46d7-b701-5999117d86be",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-tuna-account",
										"value": "{{x-tuna-account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1\r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"8\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"\",\r\n                    \"tokenprovider\": \"Tuna\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                },\r\n                \"AuthenticationInformation\": {\r\n                    \"Code\": \"{{sessionid}}\",\r\n                    \"ReferenceId\": \"\",\r\n                    \"TransactionId\": \"\"\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						}
					],
					"id": "10380885-d40e131e-5350-456d-b6de-c90c5051c0ba",
					"description": "This example uses pure js, as you would write yourself without using tuna.js.\n\nGenerate the tuna sessionid using the request below, then paste it and input credit card data at our [example form](https://storage.googleapis.com/tuna-statics/3dsUtil/3DSSamples/TokenWithPureJS-InitWithPostman/index.html).\n\nThis sessionid will contain a random orderid(named partneruniqueid at Tuna), this id locks this session to it, and it will be used by tuna.js when it automatically performs the payment init calls.\n\nAt the example form linked above, after pasting the sessionid onto it and clicking the button, I'll be shown the result of Tuna's [token api generate method](https://dev.tuna.uy/api/token#operation/Generate). You'll need to grab a few values from the response for the second and last step(init):\n\n``` json\n \"tokenData\": {\n        \"token\": \"ct_****************************j0\",\n\n ```\n\n``` json\n \"authenticationInformation\": {\n            \"referenceId\": \"a332cece-fc33-4257-8a69-6adfefa7c0ab\",\n            \"transactionId\": \"7187126538266544604970\"\n        },\n\n ```\n\nRemember you can use 3DS for credit or debit transactions, choose the init script accordingly."
				},
				{
					"name": "3DS using tuna.js for tokenization",
					"item": [
						{
							"name": "1. New Session (token api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "534dd2a2-4ef9-4146-bef3-5f1e24ee3693",
										"exec": [
											"var jsonData = JSON.parse(pm.response.text() );\r",
											"pm.collectionVariables.set(\"sessionid\", jsonData.sessionId);"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "0c390071-6fcb-4c1b-baf2-951129b2d91e",
										"exec": [
											"pm.collectionVariables.set(\"customerName\", \"{{$randomFirstName}} {{$randomLastName}}\");\r",
											"pm.collectionVariables.set(\"customerEmail\", \"{{$randomEmail}}\");\r",
											"pm.collectionVariables.set(\"customerId\", \"{{$randomUUID}}\");\r",
											"var puid = \"{{$randomUUID}}\";\r",
											"pm.collectionVariables.set(\"partneruniqueid\", puid);"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-222dfaf3-9570-4bc8-af77-2b3eb76d0bd6",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{ \r\n  \"Customer\": {\r\n    \"ID\": \"{{customerId}}\",\r\n    \"Name\": \"{{customerName}}\",\r\n    \"Email\": \"{{customerEmail}}\"\r\n  },\r\n  \"is3dsTest\": true\r\n}"
								},
								"url": {
									"raw": "https://token.tunagateway.com/api/Token/NewSession",
									"protocol": "https",
									"host": [
										"token",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Token",
										"NewSession"
									]
								},
								"description": "First step is generating a new session.\n\nThe sessionId will be stored into a variable that's going to be used by the other requests in this collection(that need a sessionId)."
							},
							"response": []
						},
						{
							"name": "2.a Init / Credit (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
										"exec": [
											"var jsondata = JSON.parse(pm.response.text());\r",
											"if (jsondata.paymentKey != null){\r",
											"    if (jsondata.paymentKey.split(':') != null){\r",
											"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }else{\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-3d269d39-d74a-49af-a295-816b09ba80bb",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-tuna-account",
										"value": "{{x-tuna-account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1\r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"7\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"\",\r\n                    \"tokenprovider\": \"Tuna\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                },\r\n                \"AuthenticationInformation\": {\r\n                    \"Code\": \"{{sessionid}}\",\r\n                    \"ReferenceId\": \"\",\r\n                    \"TransactionId\": \"\"\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						},
						{
							"name": "2.b Init / Debit (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
										"exec": [
											"var jsondata = JSON.parse(pm.response.text());\r",
											"if (jsondata.paymentKey != null){\r",
											"    if (jsondata.paymentKey.split(':') != null){\r",
											"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }else{\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-f39aba54-2ee7-4e59-b8aa-4b62b9825705",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-tuna-account",
										"value": "{{x-tuna-account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1\r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"8\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"\",\r\n                    \"tokenprovider\": \"Tuna\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                },\r\n                \"AuthenticationInformation\": {\r\n                    \"Code\": \"{{sessionid}}\",\r\n                    \"ReferenceId\": \"\",\r\n                    \"TransactionId\": \"\"\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						}
					],
					"id": "10380885-1657a5b7-8125-4cca-b884-00d81354c2b3",
					"description": "Using tuna.js makes it easier to use Tuna for 3DS purchases.\n\nGenerate the tuna sessionid using the request below, then paste it at our [example form](https://storage.googleapis.com/tuna-statics/3dsUtil/3DSSamples/TokenWithTunaJS-InitWithPostman/index.html).\n\nThis sessionid will contain a random orderid(named partneruniqueid at Tuna), this id locks this session to it, and it will be used by tuna.js when it automatically performs the payment init calls.\n\nAt the example form linked above, after pasting the sessionid onto it and clicking the button, I'll be shown the result of Tuna's [token api generate method](https://dev.tuna.uy/api/token#operation/Generate), which tuna.js conviniently calls for you. You'll need to grab a few values from the response for the second and last step(init):\n\n``` json\n \"tokenData\": {\n        \"token\": \"ct_****************************j0\",\n\n ```\n\n``` json\n \"authenticationInformation\": {\n            \"referenceId\": \"a332cece-fc33-4257-8a69-6adfefa7c0ab\",\n            \"transactionId\": \"7187126538266544604970\"\n        },\n\n ```\n\nRemember you can use 3DS for credit or debit transactions, choose the init script accordingly."
				},
				{
					"name": "3DS using tuna.js for all interactions",
					"item": [
						{
							"name": "1. New Session (token api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "534dd2a2-4ef9-4146-bef3-5f1e24ee3693",
										"exec": [
											"var jsonData = JSON.parse(pm.response.text() );\r",
											"pm.collectionVariables.set(\"sessionid\", jsonData.sessionId);"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "0c390071-6fcb-4c1b-baf2-951129b2d91e",
										"exec": [
											"pm.collectionVariables.set(\"customerName\", \"{{$randomFirstName}} {{$randomLastName}}\");\r",
											"pm.collectionVariables.set(\"customerEmail\", \"{{$randomEmail}}\");\r",
											"pm.collectionVariables.set(\"customerId\", \"{{$randomUUID}}\");\r",
											"var puid = \"{{$randomUUID}}\";\r",
											"pm.collectionVariables.set(\"partneruniqueid\", puid);"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-9c46c3e8-b229-417e-8ed7-ead3181d4d18",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{ \r\n  \"Customer\": {\r\n    \"ID\": \"{{customerId}}\",\r\n    \"Name\": \"{{customerName}}\",\r\n    \"Email\": \"{{customerEmail}}\"\r\n  },\r\n  \"PaymentAccount\": \"{{x-tuna-account}}\",\r\n  \"partneruniqueid\": \"{{partneruniqueid}}\"\r\n}"
								},
								"url": {
									"raw": "https://token.tunagateway.com/api/Token/NewSession",
									"protocol": "https",
									"host": [
										"token",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Token",
										"NewSession"
									]
								},
								"description": "First step is generating a new session.\n\nThe sessionId will be stored into a variable that's going to be used by the other requests in this collection(that need a sessionId)."
							},
							"response": []
						}
					],
					"id": "10380885-e8662b3d-d6cd-4108-a7a0-9a2500fc5cfe",
					"description": "Using tuna.js makes it easier to use Tuna for 3DS purchases.\n\nGenerate the tuna sessionid using the request below, then paste it at our [example form](https://storage.googleapis.com/tuna-statics/3dsUtil/3DSSamples/TokenWithTunaJS-InitWithTunaJS/index.html).\n\nThis sessionid will contain a random orderid(named partneruniqueid at Tuna), this id locks this session to it, and it will be used by tuna.js when it automatically performs the payment init calls.\n\nAt this example, tuna.js takes care of everthing: rendering the credit card fields, tokenization and making the purchase, all at the frontend application. In a real world scenario your backend application would have to call our [status api](https://dev.tuna.uy/api/payment#operation/Status) to be sure the information coming from the frontend is trustworthy."
				},
				{
					"name": "3DS with manual tokenization",
					"item": [
						{
							"name": "1. New Session (token api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "534dd2a2-4ef9-4146-bef3-5f1e24ee3693",
										"exec": [
											"var jsonData = JSON.parse(pm.response.text() );\r",
											"pm.collectionVariables.set(\"sessionid\", jsonData.sessionId);"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "0c390071-6fcb-4c1b-baf2-951129b2d91e",
										"exec": [
											"pm.collectionVariables.set(\"customerName\", \"{{$randomFirstName}} {{$randomLastName}}\");\r",
											"pm.collectionVariables.set(\"customerEmail\", \"{{$randomEmail}}\");\r",
											"pm.collectionVariables.set(\"customerId\", \"{{$randomUUID}}\");\r",
											"var puid = \"{{$randomUUID}}\";\r",
											"pm.collectionVariables.set(\"partneruniqueid\", puid);"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-9ed4fe3f-5e6c-4436-b8bb-f6d082b80e76",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{ \r\n  \"Customer\": {\r\n    \"ID\": \"{{customerId}}\",\r\n    \"Name\": \"{{customerName}}\",\r\n    \"Email\": \"{{customerEmail}}\"\r\n  },\r\n  \"PaymentAccount\": \"{{x-tuna-account}}\",\r\n  \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n  \"Is3dsTest\": true\r\n}"
								},
								"url": {
									"raw": "https://token.tunagateway.com/api/Token/NewSession",
									"protocol": "https",
									"host": [
										"token",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Token",
										"NewSession"
									]
								},
								"description": "First step is generating a new session.\n\nThe sessionId will be stored into a variable that's going to be used by the other requests in this collection(that need a sessionId)."
							},
							"response": []
						},
						{
							"name": "2 Generate (token api)",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a9757ebe-b47f-45df-8eb2-82b3860c73d6",
										"exec": [
											"pm.globals.set(\"Code\", Array(20).fill(null).map(() => Math.random().toString(36).charAt(2)).join(''));"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ab18a325-e73b-4306-bd1e-4d755f8ff767",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"cardtoken\", jsonData.token);\r",
											"if (jsonData.authenticationInformation != null)\r",
											"{   \r",
											"    pm.globals.set(\"TransactionId\", jsonData.authenticationInformation.transactionId);\r",
											"    pm.globals.set(\"ReferenceId\", jsonData.authenticationInformation.referenceId);\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-e538e617-50fe-4a58-a06e-5616c6de700c",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"SessionId\": \"{{sessionid}}\",\r\n    \"Card\": {\r\n        \"CardNumber\": \"4000000000001091\",\r\n        \"CardHolderName\": \"Authorized\",\r\n        \"ExpirationMonth\": 1,\r\n        \"ExpirationYear\": 2027,\r\n        \"CVV\": \"456\",\r\n        \"SingleUse\": false\r\n    },\r\n    \"AuthenticationInformation\": {\r\n        \"Code\": \"{{Code}}\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://token.tunagateway.com/api/Token/Generate",
									"protocol": "https",
									"host": [
										"token",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Token",
										"Generate"
									]
								}
							},
							"response": []
						},
						{
							"name": "2.a Init / Credit (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
										"exec": [
											"var jsondata = JSON.parse(pm.response.text());\r",
											"if (jsondata.paymentKey != null){\r",
											"    if (jsondata.paymentKey.split(':') != null){\r",
											"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }else{\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-a1266262-db5b-44c2-9f35-6d8028284ead",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-tuna-account",
										"value": "{{x-tuna-account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1\r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"7\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"{{cardtoken}}\", \r\n                    \"tokenprovider\": \"Tuna\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                },\r\n                \"AuthenticationInformation\": {\r\n                    \"Code\": \"{{Code}}\",\r\n                    \"ReferenceId\": \"{{ReferenceId}}\", \r\n                    \"TransactionId\": \"{{TransactionId}}\"\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						},
						{
							"name": "2.b Init / Debit (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
										"exec": [
											"var jsondata = JSON.parse(pm.response.text());\r",
											"if (jsondata.paymentKey != null){\r",
											"    if (jsondata.paymentKey.split(':') != null){\r",
											"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }else{\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-080304d2-a39e-4184-b627-17e785738f84",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-tuna-account",
										"value": "{{x-tuna-account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1\r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"8\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"\",\r\n                    \"tokenprovider\": \"Tuna\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                },\r\n                \"AuthenticationInformation\": {\r\n                    \"Code\": \"{{sessionid}}\",\r\n                    \"ReferenceId\": \"\",\r\n                    \"TransactionId\": \"\"\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						}
					],
					"id": "10380885-de7a68a1-eb13-4076-8c74-31d45c984550",
					"description": "This example uses pure js, as you would write yourself without using tuna.js.\n\nGenerate the tuna sessionid using the request below, then paste it and input credit card data at our [example form](https://storage.googleapis.com/tuna-statics/3dsUtil/3DSSamples/TokenWithPureJS-InitWithPostman/index.html).\n\nThis sessionid will contain a random orderid(named partneruniqueid at Tuna), this id locks this session to it, and it will be used by tuna.js when it automatically performs the payment init calls.\n\nAt the example form linked above, after pasting the sessionid onto it and clicking the button, I'll be shown the result of Tuna's [token api generate method](https://dev.tuna.uy/api/token#operation/Generate). You'll need to grab a few values from the response for the second and last step(init):\n\n``` json\n \"tokenData\": {\n        \"token\": \"ct_****************************j0\",\n\n ```\n\n``` json\n \"authenticationInformation\": {\n            \"referenceId\": \"a332cece-fc33-4257-8a69-6adfefa7c0ab\",\n            \"transactionId\": \"7187126538266544604970\"\n        },\n\n ```\n\nRemember you can use 3DS for credit or debit transactions, choose the init script accordingly."
				}
			],
			"id": "10380885-1a1f3b89-72f2-43f8-ba48-f2b2b4c6cd68",
			"description": "Please check the descriptions at each sub-folder.\n\nAlso check out our [https://github.com/tuna-software/3DSSamples](https://github.com/tuna-software/3DSSamples) with the source code of the html test forms and a node application that serves as an example for a backend application.\n\n### Test Credit Cards\n\nUse the card number specified in the test with the card expiration date set to the month of January and the current year plus three. For example, for 2025, use 2028. You also need the minimum required fields for an order.\n\n#### Frictionless Authentication Is Successful\n\nThis test verifies that successful frictionless authentication of the cardholder by the card issuer works correctly.\n\n| **Card Type** | **Test Card Number** |\n| --- | --- |\n|  | **3-D Secure 2.1.0** |\n| American ExpressCard Type = 003 | — |\n| Cartes Bancaires MastercardCard Type = 036 | 52000000 0000 3001 |\n| Cartes Bancaires VisaCard Type = 036 | 40000000 0000 3006 |\n| Diners ClubCard Type = 005 | — |\n| DiscoverCard Type = 004 | — |\n| EFTPOS MastercardCard Type = 002 | 52000000 0000 5170 |\n| EFTPOS VisaCard Type = 001 | 40000000 0000 5126 |\n| EloCard Type = 054 | — |\n| ITMX VisaCard Type = 001 | 46320821 0000 0005 |\n| ITMX MastercardCard Type = 002 | 55775501 2100 0000 |\n| JCB J/SecureCard Type = 007 | — |\n| mada MastercardCard Type = 060 | — |\n| mada VisaCard Type = 060 | — |\n| MastercardCard Type = 002 | — |\n| China UnionPayCard Type = 062 | 62000100 0020 0000 |\n| VisaCard Type = 001 | — |\n\n#### Frictionless Authentication Is Unsuccessful\n\n## Card Numbers\n\n| **Card Type** | **Test Card Number** |\n| --- | --- |\n|  | **3-D Secure 2.1.0** |\n| American ExpressCard Type = 003 | — |\n| Cartes Bancaires MastercardCard Type = 036 | 52000000 0000 3019 |\n| Cartes Bancaires VisaCard Type = 036 | 40000000 0000 3014 |\n| Diners ClubCard Type = 005 | — |\n| DiscoverCard Type = 004 | — |\n| EFTPOS MastercardCard Type = 002 | 52000000 0000 5220 |\n| EFTPOS VisaCard Type = 001 | 40000000 0000 5019 |\n| EloCard Type = 054 | — |\n| ITMX MastercardCard Type = 002 | 55775501 2100 0010 |\n| ITMX VisaCard Type = 001 | 46320821 0000 0013 |\n| JCB J/SecureCard Type = 007 | — |\n| mada MastercardCard Type = 060 | — |\n| mada VisaCard Type = 060 | — |\n| MastercardCard Type = 002 | — |\n| China UnionPayCard Type = 062 | 62000100 0010 0010 |\n| VisaCard Type = 001 |  |\n\n#### Stand-In Frictionless Authentication is Attempted\n\nThis test verifies how your system reacts when the cardholder is enrolled in 3-D Secure but the card issuer does not support 3-D Secure, requiring a stand-in authentication experience.\n\n## Card Numbers\n\n| **Card Type** | **Test Card Number** |\n| --- | --- |\n|  | **3-D Secure 2.1.0** |\n| American ExpressCard Type = 003 | — |\n| Cartes Bancaires MastercardCard Type = 036 | 52000000 0000 3027 |\n| Cartes Bancaires VisaCard Type = 036 | 40000000 0000 3022 |\n| Diners ClubCard Type = 005 | — |\n| DiscoverCard Type = 004 | — |\n| EFTPOS MastercardCard Type = 002 | 52000000 0000 5360 |\n| EFTPOS VisaCard Type = 001 | 40000000 0000 5027 |\n| EloCard Type = 054 | — |\n| ITMX MastercardCard Type = 002 | 55775501 2100 0075 |\n| ITMX VisaCard Type = 001 | 46320821 0000 0070 |\n| JCB J/SecureCard Type = 007 | — |\n| mada MastercardCard Type = 060 | — |\n| mada VisaCard Type = 060 | — |\n| MastercardCard Type = 002 | — |\n| China UnionPayCard Type = 062 | 62000100 0000 0020 |\n| VisaCard Type = 001 | — |\n\n#### Frictionless Authentication Is Unavailable\n\nThis test verifies how your system behaves when authentication is unavailable at the time of the transaction.\n\n## Card Numbers\n\n| **Card Type** | **Test Card Number** |\n| --- | --- |\n|  | **3-D Secure 2.1.0** |\n| American ExpressCard Type = 003 | — |\n| Cartes Bancaires MastercardCard Type = 036 | 52000000 0000 3035 |\n| Cartes Bancaires VisaCard Type = 036 | 40000000 0000 3030 |\n| Diners ClubCard Type = 005 | — |\n| DiscoverCard Type = 004 | — |\n| EFTPOS MastercardCard Type = 002 | 52000000 0000 5410 |\n| EFTPOS VisaCard Type = 001 | 40000000 0000 5035 |\n| EloCard Type = 054 | — |\n| ITMX MastercardCard Type = 002 | 55775501 2100 0091 |\n| ITMX VisaCard Type = 001 | 46320821 0000 0096 |\n| JCB J/SecureCard Type = 007 | — |\n| mada MastercardCard Type = 060 | — |\n| mada VisaCard Type = 060 | — |\n| MastercardCard Type = 002 | — |\n| China UnionPayCard Type = 062 | 62000100 0040 0030 |\n| VisaCard Type = 001 | — |\n\n#### Step-Up Authentication Is Successful\n\nThis test verifies how your system reacts to a successful step-up (or challenge) authentication transaction.\n\n## Card Numbers\n\n| **Card Type** | **Test Card Number** |\n| --- | --- |\n|  | **3-D Secure 2.1.0** |\n| American ExpressCard Type = 003 | — |\n| Cartes Bancaires VisaCard Type = 036 | 40000000 0000 3139 |\n| Diners ClubCard Type = 005 | — |\n| DiscoverCard Type = 004 | — |\n| EFTPOS MastercardCard Type = 002 | 52000000 0000 5311 |\n| EFTPOS VisaCard Type = 001 | 40000000 0000 5290 |\n| EloCard Type = 054 | — |\n| ITMX MastercardCard Type = 002 | 55775501 2100 0026 |\n| ITMX VisaCard Type = 001 | 46320821 0000 0021 |\n| JCB J/SecureCard Type = 007 | — |\n| mada MastercardCard Type = 060 | — |\n| mada VisaCard Type = 060 | — |\n| MastercardCard Type = 002 | — |\n| China UnionPayCard Type = 062 | 62000199 9980 0019 |\n| VisaCard Type = 001 | — |"
		},
		{
			"name": "PIX",
			"item": [
				{
					"name": "1. Init with PIX (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5429f9a5-fb52-4062-bb63-049b0b01df45",
								"exec": [
									"var jsonData = JSON.parse(responseBody);\r",
									"if (jsonData.paymentKey != null){\r",
									"    if (jsonData.paymentKey.split(':') != null){\r",
									"        postman.setEnvironmentVariable(\"paymentid\", jsonData.paymentKey.split(':')[1]);\r",
									"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
									"    }else{\r",
									"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "be927e3c-884d-47bc-8bea-a88b5155c4d5",
								"exec": [
									"// Ensure partner unique ID is incremented\r",
									"var partnerUniqueId = pm.collectionVariables.get(\"partneruniqueid\");\r",
									"if (partnerUniqueId) {\r",
									"    // Increment and set the new value\r",
									"    pm.collectionVariables.set(\"partneruniqueid\", parseInt(partnerUniqueId) + 2);\r",
									"} else {\r",
									"    console.error(\"partneruniqueid is not defined in collection variables.\");\r",
									"}\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"id": "10380885-602c6522-be4b-4d68-81b9-9cd360f8a7a9",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"PartnerUniqueId\": \"{{partneruniqueid}}\",\r\n   \"PaymentItems\": {\r\n    \"Items\": [\r\n      {\r\n        \"DetailUniqueID\": \"{{$randomUUID}}\",\r\n        \"Amount\": {{amount}},\r\n        \"ProductID\": 1,\r\n        \"ProductDescription\": \"{{$randomProductName}}\",\r\n        \"CategoryID\": {{$randomInt}},\r\n        \"CategoryName\": \"{{$randomProduct}}\",\r\n        \"ItemQuantity\": 1,\r\n        \"AntiFraud\": null\r\n      }\r\n    ]\r\n  },\r\n  \"PaymentData\": {\r\n    \"PaymentMethods\": [\r\n      {\r\n        \"PaymentMethodType\": \"D\",\r\n        \"Amount\": {{amount}},\r\n        \"Pix\": {\r\n          \"Name\": \"{{$randomFirstName}} {{$randomLastName}}\",\r\n          \"Document\": \"{{document}}\",\r\n          \"DocumentType\": \"{{documentType}}\",\r\n          \"ExpirationSeconds\": 600\r\n        }\r\n      }\r\n    ],\r\n    \"Countrycode\": \"BR\"\r\n  },\r\n  \"FrontData\": {\r\n    \"SessionID\": \"{{$randomUUID}}\",\r\n    \"IpAddress\": \"{{$randomIP}}\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Init",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Init"
							]
						}
					},
					"response": []
				}
			],
			"id": "10380885-e4f103a1-4a45-4810-aa34-8a253f7967c8",
			"description": "Standard payment flow for a regular PIX transaction.\n\nMake sure your Tuna accont has an active PIX flow."
		},
		{
			"name": "Boleto",
			"item": [
				{
					"name": "1. Init with Boleto (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									"var jsonData = JSON.parse(responseBody);\r",
									"if (jsonData.paymentKey != null){\r",
									"    if (jsonData.paymentKey.split(':') != null){\r",
									"        postman.setEnvironmentVariable(\"paymentid\", jsonData.paymentKey.split(':')[1]);\r",
									"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
									"    }else{\r",
									"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									"var value = pm.collectionVariables.get(\"partneruniqueid\");\r",
									"pm.collectionVariables.set(\"partneruniqueid\", parseInt(value)+2);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-49a13239-8cc6-49ce-a0be-02279b595be7",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1                \r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"3\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"BoletoInfo\": {\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Init",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Init"
							]
						}
					},
					"response": []
				}
			],
			"id": "10380885-f13ffcb7-ee7f-4c03-b634-0eaee33cdf1a"
		},
		{
			"name": "Tuna Checkout",
			"item": [
				{
					"name": "1. Create (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-e544d5d8-fbdd-415a-acd7-20350426f00b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"description\": \"{{$randomBsBuzz}}\",\n    \"amount\": {{amount}},\n    \"hideHeader\": false,\n    \"hideFooter\": false,\n    \"hideCart\": false,\n    \"storeName\": \"{{$randomCompanyName}}\",\n    \"items\": [\n        {\n            \"amount\": {{amount}},\n            \"detailUniqueId\": \"{{$randomInt}}\",\n            \"productDescription\": \"{{$randomProductName}}\",\n            \"itemQuantity\": 1\n        }\n    ],\n    \"expirationinminutes\": 15,\n    \"partnerUniqueId\": \"{{partneruniqueid}}\",\n    \"customer\": {\n        \"id\": \"{{customerId}}\",\n        \"name\": \"{{customerName}}\",\n        \"email\": \"{{$randomEmail}}\",\n        \"document\": \"{{document}}\",\n        \"documentType\": \"{{documentType}}\",\n        \"dayssinceregistration\": {{$randomInt}},\n        \"data\": {\n            \"phone\": \"{{$randomPhoneNumber}}\",\n            \"iscorporate\": {{$randomBoolean}},\n            \"tradename\": \"{{$randomCompanyName}}\",\n            \"corporatedocument\": \"{{randomCNPJ}}\",\n            \"createddate\": \"{{$randomDatePast}}\"\n        }\n    },\n    \"deliveryaddress\": {\n        \"street\": \"{{$randomStreetName}}\",\n        \"number\": \"{{$randomInt}}\",\n        \"complement\": \"{{$randomStreetAddress}}\",\n        \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\n        \"city\": \"{{$randomCity}}\",\n        \"state\": \"{{randomState}}\",\n        \"country\": \"BR\",\n        \"postalcode\": \"{{randomCep}}\",\n        \"phone\": \"{{$randomPhoneNumber}}\"\n    },\n    \"type\": \"2\",\n    \"useShippingAsBilling\": true,\n    \"logoUrl\": \"https://storage.googleapis.com/tuna-statics/partner_logos/logo-tuna.svg\",\n    \"mainColor\": \"{{$randomHexColor}}\",\n    \"maxInstallments\": 12,\n    \"urlSuccessReturn\": \"https://www.example.com/success\",\n    \"urlFailReturn\": \"https://www.example.com/fail\"\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/PaymentLink/Create",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"PaymentLink",
								"Create"
							]
						}
					},
					"response": []
				},
				{
					"name": "2. List (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-6c6b8047-6f3f-442f-b4a0-bf7855e99bdb",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/PaymentLink/List",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"PaymentLink",
								"List"
							]
						}
					},
					"response": []
				}
			],
			"id": "10380885-7041a185-7f03-4402-bcf1-86a27e9c27b7"
		},
		{
			"name": "Wallets",
			"item": [
				{
					"name": "NuPay",
					"item": [
						{
							"name": "1. Init with Nupay (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5429f9a5-fb52-4062-bb63-049b0b01df45",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"if (jsonData.paymentKey != null){\r",
											"    if (jsonData.paymentKey.split(':') != null){\r",
											"        postman.setEnvironmentVariable(\"paymentid\", jsonData.paymentKey.split(':')[1]);\r",
											"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
											"    }else{\r",
											"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "be927e3c-884d-47bc-8bea-a88b5155c4d5",
										"exec": [
											"var value = pm.collectionVariables.get(\"partneruniqueid\");\r",
											"pm.collectionVariables.set(\"partneruniqueid\", parseInt(value)+2);"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-d84b713d-9542-43ac-81c2-9308ddbcd34f",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "x-tuna-account",
										"value": "{{x-tuna-account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n   \"PartnerUniqueId\": \"{{partneruniqueid}}\",\r\n   \"PaymentItems\": {\r\n    \"Items\": [\r\n      {\r\n        \"DetailUniqueID\": \"{{$randomUUID}}\",\r\n        \"Amount\": {{amount}},\r\n        \"ProductID\": 1,\r\n        \"ProductDescription\": \"{{$randomProductName}}\",\r\n        \"CategoryID\": {{$randomInt}},\r\n        \"CategoryName\": \"{{$randomProduct}}\",\r\n        \"ItemQuantity\": 1,\r\n        \"AntiFraud\": null\r\n      }\r\n    ]\r\n  },\r\n  \"PaymentData\": {\r\n    \"PaymentMethods\": [\r\n      {\r\n        \"PaymentMethodType\": \"9\",\r\n        \"Amount\": {{amount}},\r\n        \"Installments\": 1,\r\n        \"Data\": {\r\n\t\t\t\"ExternalMethodType\": \"1\"\r\n\t\t}\r\n      }\r\n    ],\r\n    \"Countrycode\": \"BR\"\r\n  },\r\n  \"FrontData\": {\r\n    \"SessionID\": \"{{$randomUUID}}\",\r\n    \"IpAddress\": \"{{$randomIP}}\"\r\n  }\r\n}"
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						}
					],
					"id": "10380885-c3d30fa7-0955-4aca-9aea-92f0272665ff"
				},
				{
					"name": "Mercado Pago",
					"item": [
						{
							"name": "1. Init with MP (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5429f9a5-fb52-4062-bb63-049b0b01df45",
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"if (jsonData.paymentKey != null){\r",
											"    if (jsonData.paymentKey.split(':') != null){\r",
											"        postman.setEnvironmentVariable(\"paymentid\", jsonData.paymentKey.split(':')[1]);\r",
											"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
											"    }else{\r",
											"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "be927e3c-884d-47bc-8bea-a88b5155c4d5",
										"exec": [
											"var value = pm.collectionVariables.get(\"partneruniqueid\");\r",
											"pm.collectionVariables.set(\"partneruniqueid\", parseInt(value)+2);"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-4cf81afe-51f2-4491-bd3f-691ed1b70935",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "x-tuna-account",
										"value": "{{x-tuna-account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"PartnerUniqueId\": \"{{partneruniqueid}}\",\r\n    \"PaymentItems\": {\r\n        \"Items\": [\r\n            {\r\n                \"DetailUniqueID\": \"{{$randomUUID}}\",\r\n                \"Amount\": {{amount}},\r\n                \"ProductID\": 1,\r\n                \"ProductDescription\": \"{{$randomProductName}}\",\r\n                \"CategoryID\": {{$randomInt}},\r\n                \"CategoryName\": \"{{$randomProduct}}\",\r\n                \"ItemQuantity\": 1,\r\n                \"AntiFraud\": null\r\n            }\r\n        ]\r\n    },\r\n    \"PaymentData\": {\r\n        \"PaymentMethods\": [\r\n            {\r\n                \"PaymentMethodType\": \"9\",\r\n                \"Amount\": {{amount}},\r\n                \"Installments\": 1,\r\n                \"Data\": {\r\n                    \"ExternalMethodType\": \"2\"\r\n                }\r\n            }\r\n        ],\r\n        \"Countrycode\": \"BR\"\r\n    },\r\n    \"FrontData\": {\r\n        \"SessionID\": \"{{$randomUUID}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    }\r\n}"
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						}
					],
					"id": "10380885-44c0c6f5-6c5f-42d8-bbac-1205bce84112"
				},
				{
					"name": "PayPal",
					"item": [
						{
							"name": "1. Init with PayPal (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
										"exec": [
											"VAR JSONDATA = JSON.PARSE(RESPONSEBODY);\r",
											"IF (JSONDATA.PAYMENTKEY != NULL){\r",
											"    IF (JSONDATA.PAYMENTKEY.SPLIT(':') != NULL){\r",
											"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTID\", JSONDATA.PAYMENTKEY.SPLIT(':')[1]);\r",
											"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTKEY\", JSONDATA.PAYMENTKEY);\r",
											"    }ELSE{\r",
											"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTKEY\", JSONDATA.PAYMENTKEY);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
										"exec": [
											"var value = pm.environment.get(\"partneruniqueid\");\r",
											"pm.environment.set(\"partneruniqueid\", parseInt(value)+1);"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-0ab64a0a-1671-42b1-8031-5f8d29bfef9b",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "x-tuna-account",
										"value": "{{token account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"123-f56a-4ff0-9a5b-3187e4f4b60b\",\r\n        \"name\": \"Teste Paul\",\r\n        \"email\": \"paul.ascher@gmail.com\",\r\n        \"dayssinceregistration\": 16,\r\n        \"data\": {\r\n            \"phone\": \"+5531987597268\",\r\n            \"iscorporate\": false,\r\n            \"corporatename\": null,\r\n            \"tradename\": null,\r\n            \"corporatedocument\": null,\r\n            \"createddate\": \"2022-05-21T12:44:11\"\r\n        }\r\n    },    \r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"9\",\r\n                \"amount\": 0.01,\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"A21AAMdpkZgt-4nhuJANavxTvrnOl0mTe1ybYP2p0WGP53J76SxjTUYX0qG7bbQzHOp891KKBnA86YBNRzsmHPE9LWBPMmIXA\",\r\n                    \"tokenprovider\": \"PayPal\",                    \r\n                    \"billinginfo\": {\r\n                        \"number\": \"1317797\",\r\n                        \"name\": \"Paul Ascher\",\r\n                        \"phone\": \"+5531987597268\",\r\n                        \"taxedamount\": 110.76,\r\n                        \"billedamount\": 110.76,\r\n                        \"address\": {\r\n                            \"street\": \"Rua Irena Sendler\",\r\n                            \"number\": \"104\",\r\n                            \"complement\": \"Antiga rua N próximo ao CRAS confico\",\r\n                            \"neighborhood\": \"Confisco\",\r\n                            \"city\": \"Belo Horizonte\",\r\n                            \"state\": \"MG\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"31360770\",\r\n                            \"phone\": \"+5531987597268\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                },\r\n                \"customer\": {\r\n                    \"id\": \"123-f56a-4ff0-9a5b-3187e4f4b60b\",\r\n                    \"name\": \"Teste Paul\",\r\n                     \"email\": \"paul.ascher@gmail.com\",\r\n                    \"dayssinceregistration\": 16,\r\n                    \"data\": {\r\n                        \"phone\": \"+5531987597268\",\r\n                        \"iscorporate\": false,\r\n                        \"corporatename\": null,\r\n                        \"tradename\": null,\r\n                        \"corporatedocument\": null,\r\n                        \"createddate\": \"2022-05-21T12:44:11\"\r\n                    }\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"Rua Irena Sendler\",\r\n            \"number\": \"104\",\r\n            \"complement\": \"Antiga rua N próximo ao CRAS confico\",\r\n            \"neighborhood\": \"Confisco\",\r\n            \"city\": \"Belo Horizonte\",\r\n            \"state\": \"MG\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"31360770\",\r\n            \"phone\": \"+5531987597268\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": 0.01,\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"KrakenD Version undefined\"\r\n    },\r\n    \"shippingitems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": 0.01,\r\n                \"deliveryaddress\": {\r\n                    \"street\": \"Rua Irena Sendler\",\r\n                    \"number\": \"104\",\r\n                    \"complement\": \"Antiga rua N próximo ao CRAS confico\",\r\n                    \"neighborhood\": \"Confisco\",\r\n                    \"city\": \"Belo Horizonte\",\r\n                    \"state\": \"MG\",\r\n                    \"country\": \"BR\",\r\n                    \"postalcode\": \"31360770\",\r\n                    \"phone\": \"+5531987597268\"\r\n                },\r\n                \"shippingtype\": \"2\"\r\n            }\r\n        ]\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						},
						{
							"name": "2. Init PayPal Wallet (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
										"exec": [
											"VAR JSONDATA = JSON.PARSE(RESPONSEBODY);\r",
											"IF (JSONDATA.PAYMENTKEY != NULL){\r",
											"    IF (JSONDATA.PAYMENTKEY.SPLIT(':') != NULL){\r",
											"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTID\", JSONDATA.PAYMENTKEY.SPLIT(':')[1]);\r",
											"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTKEY\", JSONDATA.PAYMENTKEY);\r",
											"    }ELSE{\r",
											"        POSTMAN.SETENVIRONMENTVARIABLE(\"PAYMENTKEY\", JSONDATA.PAYMENTKEY);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
										"exec": [
											"var value = pm.environment.get(\"partneruniqueid\");\r",
											"pm.environment.set(\"partneruniqueid\", parseInt(value)+1);"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-5e530587-d860-4b77-a520-4f41ed2f9b3c",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "x-tuna-account",
										"value": "{{token account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"123-f56a-4ff0-9a5b-3187e4f4b60b\",\r\n        \"name\": \"Teste Paul\",\r\n        \"email\": \"paul.ascher@gmail.com\",\r\n        \"dayssinceregistration\": 16,\r\n        \"data\": {\r\n            \"phone\": \"+5531987597268\",\r\n            \"iscorporate\": false,\r\n            \"corporatename\": null,\r\n            \"tradename\": null,\r\n            \"corporatedocument\": null,\r\n            \"createddate\": \"2022-05-21T12:44:11\"\r\n        }\r\n    },    \r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"9\",\r\n                \"amount\": 0.01,\r\n                \"installments\": 1,\r\n                \"cardinfo\": {\r\n                    \"token\": \"5ee4f23a-3634-2fae-b0e7-905918dbe926\",\r\n                    \"tokenprovider\": \"PayPal\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"1317797\",\r\n                        \"name\": \"Paul Ascher\",\r\n                        \"phone\": \"+5531987597268\",\r\n                        \"taxedamount\": 110.76,\r\n                        \"billedamount\": 110.76,\r\n                        \"address\": {\r\n                            \"street\": \"Rua Irena Sendler\",\r\n                            \"number\": \"104\",\r\n                            \"complement\": \"Antiga rua N próximo ao CRAS confico\",\r\n                            \"neighborhood\": \"Confisco\",\r\n                            \"city\": \"Belo Horizonte\",\r\n                            \"state\": \"MG\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"31360770\",\r\n                            \"phone\": \"+5531987597268\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                },\r\n                \"customer\": {\r\n                    \"id\": \"123-f56a-4ff0-9a5b-3187e4f4b60b\",\r\n                    \"name\": \"Teste Paul\",\r\n                     \"email\": \"paul.ascher@gmail.com\",\r\n                    \"dayssinceregistration\": 16,\r\n                    \"data\": {\r\n                        \"phone\": \"+5531987597268\",\r\n                        \"iscorporate\": false,\r\n                        \"corporatename\": null,\r\n                        \"tradename\": null,\r\n                        \"corporatedocument\": null,\r\n                        \"createddate\": \"2022-05-21T12:44:11\"\r\n                    }\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"Rua Irena Sendler\",\r\n            \"number\": \"104\",\r\n            \"complement\": \"Antiga rua N próximo ao CRAS confico\",\r\n            \"neighborhood\": \"Confisco\",\r\n            \"city\": \"Belo Horizonte\",\r\n            \"state\": \"MG\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"31360770\",\r\n            \"phone\": \"+5531987597268\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": 0.01,\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"KrakenD Version undefined\"\r\n    },\r\n    \"shippingitems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": 0.01,\r\n                \"deliveryaddress\": {\r\n                    \"street\": \"Rua Irena Sendler\",\r\n                    \"number\": \"104\",\r\n                    \"complement\": \"Antiga rua N próximo ao CRAS confico\",\r\n                    \"neighborhood\": \"Confisco\",\r\n                    \"city\": \"Belo Horizonte\",\r\n                    \"state\": \"MG\",\r\n                    \"country\": \"BR\",\r\n                    \"postalcode\": \"31360770\",\r\n                    \"phone\": \"+5531987597268\"\r\n                },\r\n                \"shippingtype\": \"2\"\r\n            }\r\n        ]\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						}
					],
					"id": "10380885-317e0d31-4d1b-4a25-a03e-7f935fde3d6d"
				},
				{
					"name": "Google Pay",
					"item": [
						{
							"name": "1. Init Payment (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
										"exec": [
											"var jsondata = JSON.parse(pm.response.text());\r",
											"if (jsondata.paymentKey != null){\r",
											"    if (jsondata.paymentKey.split(':') != null){\r",
											"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }else{\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-d5bde9f4-4b43-4a1a-992b-71511f0bf7bd",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "x-tuna-account",
										"value": "{{x-tuna-account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1\r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"1\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"CardInfo\": {\r\n                    \"TokenProvider\": \"GooglePay\",\r\n                    \"Token\": \"{\\\"signature\\\":\\\"MEUCIQCS+R3wgLMdMFZrJesAOhVXApDSimD0qatIW8CHcfIL+wIgey0ITfkYD/DJ5Sk894OmlxLjqQa1m3cwb3PQGSU1Kqs\\\\u003d\\\",\\\"intermediateSigningKey\\\":{\\\"signedKey\\\":\\\"{\\\\\\\"keyValue\\\\\\\":\\\\\\\"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEWAtZhlnOtzIW5jo9kvdePavI2nlM6pCVYqDRP2QnWcHEDGEoeBwpZGV9Bnn0EHFSIyZk05o9Jb3bJZoN/bCRcQ\\\\\\\\u003d\\\\\\\\u003d\\\\\\\",\\\\\\\"keyExpiration\\\\\\\":\\\\\\\"1671503157000\\\\\\\"}\\\",\\\"signatures\\\":[\\\"MEUCIQCX0I6usN5y6g/jGYnZum+m/TQ4OCjYgxeKjPJ7KgAc1wIgVR/ufnWds1bgVO/bTRJB82XS2eyDrbxEpKVeWAjql4Q\\\\u003d\\\"]},\\\"protocolVersion\\\":\\\"ECv2\\\",\\\"signedMessage\\\":\\\"{\\\\\\\"encryptedMessage\\\\\\\":\\\\\\\"6+ztGNoKypq+qn3q3QV8qZRYlhKrsHoAgw+CijtCZCfxc5MfWyATxLVo9vwIxPkHaXzzpBR/5GFwr1tjqJrwRbQXEMXTKVzlT84xYmD+/OiHR34qTajsD2Cf6cIki8I3ujxJof+shlfFt496pt7PcKdkiNXUY9ao65iUAYfMDhDFIT5yFjVSa2XAeEkiUUlfOJPw048O+En81XzgeuJnFphsDnmuVg2+dtLIoaX3xXICq3A7qlVZA0k55YIa+lMURrfeIwzqLYv1gwK7LQ2E3pTsMT1+S5XSx54wQ0EfddKogV4DqRwrY3wi20SElE728hPxA2k+4bSCLnFtSCENnT6cJl1qQdV+b+NnHlBLSBgwiDi4GNpwpDRwEfXTCQAwCQ+rKfT6h1e82KGooDvJe/+fiaDXU0qZbRdxnpJYnEkQ5s/qhYx6Uz24mV7Hp7yrJwwicbOBDYjeCxHJVU9oTsKMIFpl7ETFiGIEPK4D6ZADbn1zBksdP1UiD7ywVCUl8iqS5sLbz8rDlQf8VEsfIBMQJO2fjn8Zkbp7U20IYFuorHJrJLhHOifLe5WVnTmbJ7rALGKZwHDr\\\\\\\",\\\\\\\"ephemeralPublicKey\\\\\\\":\\\\\\\"BDHQu/pqr8J7Uc6HI7vQIdbj3ZVbimmm14ceeh0TbeetnMK8GzgLkkSR90rT0zN8qqJ5AVkxIblRLCXlT2w0rqs\\\\\\\\u003d\\\\\\\",\\\\\\\"tag\\\\\\\":\\\\\\\"FlKG69l3V/EHSbxY27L3zYMKJvwrQhMJ7gLPYHczVuY\\\\\\\\u003d\\\\\\\"}\\\"}\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						}
					],
					"id": "10380885-edbc0e2a-54a1-4af0-9006-1b47990949cd",
					"description": "Follow [our documentation](https://dev.tuna.uy/services/googlepay/) for information regarding using Google Pay at Tuna.\n\nWe recommend using out [javacript plugin](https://dev.tuna.uy/plugins/javascript#using-google-pay) for a quicker integration.\n\nCheck our [Google Pay example form](https://storage.googleapis.com/tuna-statics/walletPaymentSamples/GooglePaySample.html) out.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "c4ca3940-9296-49b3-9b83-7c0aab5692f9",
								"type": "text/javascript",
								"packages": {},
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3429b198-338e-4a8d-98df-d26c9c6a9313",
								"type": "text/javascript",
								"packages": {},
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Apple Pay",
					"item": [
						{
							"name": "1. Init Payment (engine api)",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
										"exec": [
											"var jsondata = JSON.parse(pm.response.text());\r",
											"if (jsondata.paymentKey != null){\r",
											"    if (jsondata.paymentKey.split(':') != null){\r",
											"        pm.collectionVariables.set(\"paymentId\", jsondata.paymentKey.split(':')[1]);\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }else{\r",
											"        pm.collectionVariables.set(\"paymentKey\", jsondata.paymentKey);\r",
											"    }\r",
											"}"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"id": "10380885-1f18f8ac-3fd2-408d-84eb-fda642badfde",
							"protocolProfileBehavior": {
								"disableBodyPruning": true,
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "x-tuna-account",
										"value": "{{x-tuna-account}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"TokenSession\": \"{{sessionid}}\",\r\n    \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n    \"customer\": {\r\n        \"id\": \"{{customerId}}\",\r\n        \"name\": \"{{customerName}}\",\r\n        \"email\": \"{{$randomEmail}}\",\r\n        \"document\": \"{{document}}\",\r\n        \"documentType\": \"{{documentType}}\",\r\n        \"dayssinceregistration\": {{$randomInt}},\r\n        \"data\": {\r\n            \"phone\": \"{{$randomPhoneNumber}}\",\r\n            \"iscorporate\": {{$randomBoolean}},\r\n            \"tradename\": \"{{$randomCompanyName}}\",\r\n            \"corporatedocument\": \"{{randomCNPJ}}\",\r\n            \"createddate\": \"{{$randomDatePast}}\"\r\n        }\r\n    },\r\n    \"paymentItems\": {\r\n        \"items\": [\r\n            {\r\n                \"amount\": {{amount}},\r\n                \"detailUniqueId\": \"{{$randomInt}}\",\r\n                \"productDescription\": \"{{$randomProductName}}\",\r\n                \"itemQuantity\": 1\r\n            }\r\n        ]\r\n    },\r\n    \"paymentdata\": {\r\n        \"paymentmethods\": [\r\n            {\r\n                \"partneruniqueid\": \"{{partneruniqueid}}\",\r\n                \"paymentmethodtype\": \"1\",\r\n                \"amount\": {{amount}},\r\n                \"installments\": 1,\r\n                \"CardInfo\": {\r\n                    \"TokenProvider\": \"ApplePay\",\r\n                    \"Token\": \"{\\\"data\\\":\\\"fUM6nz+bQGGsDWH/WEitkww97XHxAgAsRVWSN3vK/BXUZ0IBAV/H3gkmZ6rj1HBJN8+wS4h6VD+7jgszLLPfnuqY1PUqefe3vKFmFDK4GoiwcaZf1VWafzkm6VZIy6Ifkd+JMA0PRXkd7GjcP7brZK/M2HZ28iqVvss4A/LAbdGlpoII8c96rf2SNzK4UGcViMb8cd3hJ0J61zCXNQ008c+o9vP1LikiwcU7oEuytqN+7FcyAps1SSevGCWn96R7c5+7RNo5C1mp3wynQRxA/IB+65o7S/6s9BpRtIXI6BqAYH+nULxuqeEtErEF9X\\\",\\\"signature\\\":\\\"MIAGCSqGSIb3DQEHAqCAMIACAQExDTALBglghkgBZQMEAgEwgAYJKoZIhvcNAQcBAACggDCCA+MwggOIoAMCAQICCEwwQUlRnVQ2MAoGCCqGSM49BAMCMHoxLjAsBgNVBAMMJUFwcGxlIEFwcGxpY2F0aW9uIEludGVncmF0aW9uIENBIC0gRzMxJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MRMwEQYDVQQKDApBcHBsZSBJbmMuMQswCQYDVQQGEwJVUzAeFw0xOTA1MTgwMTMyNTdaFw0yNDA1MTYwMTMyNTdaMF8xJTAjBgNVBAMMHGVjYy1zbXAtYnJva2VyLXNpZ25fVUM0LVBST0QxFDASBgNVBAsMZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABMIVd+3r1seyIY9o3XCQoSGNx7C9bywoPYRgldlK9KVBG4NCDtgR80B+gzMfHFTD9+syINa61dTv9JKJiT58DxOjggIRMIICDTAMBgNVHRMBAf8EAjAAMB8GA1UdIwQYMBaAFCPyScRPk+TvJ+bE9ihsP6K7/S5LMEUGCCsGAQUFBwEBBDkwNzA1BggrBgEFBQcwAYYpaHR0cDovL29jc3AuYXBwbGUuY29tL29jc3AwNC1hcHBsZWFpY2EzMDIwggEdBgNVHSAEggEUMIIBEDCCAQwGCSqGSIb3Y2QFATCB/jCBwwYIKwYBBQUHAgIwgbYMgbNSZWxpYW5jZSBvbiB0aGlzIGNlcnRpZmljYXRlIGJ5IGFueSBwYXJ0eSBhc3N1bWVzIGFjY2VwdGFuY2Ugb2YgdGhlIHRoZW4gYXBwbGljYWJsZSBzdGFuZGFyZCB0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB1c2UsIGNlcnRpZmljYXRlIHBvbGljeSBhbmQgY2VydGlmaWNhdGlvbiBwcmFjdGljZSBzdGF0ZW1lbnRzLjA2BggrBgEFBQcCARYqaHR0cDovL3d3dy5hcHBsZS5jb20vY2VydGlmaWNhdGVhdXRob3JpdHkvMDQGA1UdHwQtMCswKaAnoCWGI2h0dHA6Ly9jcmwuYXBwbGUuY29tL2FwcGxlYWljYTMuY3JsMB0GA1UdDgQWBBSUV9tv1XSBhomJdi9+V4UH55tYJDAOBgNVHQ8BAf8EBAMCB4AwDwYJKoZIhvdjZAYdBAIFADAKBggqhkjOPQQDAgNJADBGAiEAvglXH+ceHnNbVeWvrLTHL+tEXzAYUiLHJRACth69b1UCIQDRizUKXdbdbrF0YDWxHrLOh8+j5q9svYOAiQ3ILN2qYzCCAu4wggJ1oAMCAQICCEltL786mNqXMAoGCCqGSM49BAMCMGcxGzAZBgNVBAMMEkFwcGxlIFJvb3QgQ0EgLSBHMzEmMCQGA1UECwwdQXBwbGUgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxEzARBgNVBAoMCkFwcGxlIEluYy4xCzAJBgNVBAYTAlVTMB4XDTE0MDUwNjIzNDYzMFoXDTI5MDUwNjIzNDYzMFowejEuMCwGA1UEAwwlQXBwbGUgQXBwbGljYXRpb24gSW50ZWdyYXRpb24gQ0EgLSBHMzEmMCQGA1UECwwdQXBwbGUgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxEzARBgNVBAoMCkFwcGxlIEluYy4xCzAJBgNVBAYTAlVTMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE8BcRhBnXZIXVGl4lgQd26ICi7957rk3gjfxLk+EzVtVmWzWuItCXdg0iTnu6CP12F86Iy3a7ZnC+yOgphP9URaOB9zCB9DBGBggrBgEFBQcBAQQ6MDgwNgYIKwYBBQUHMAGGKmh0dHA6Ly9vY3NwLmFwcGxlLmNvbS9vY3NwMDQtYXBwbGVyb290Y2FnMzAdBgNVHQ4EFgQUI/JJxE+T5O8n5sT2KGw/orv9LkswDwYDVR0TAQH/BAUwAwEB/zAfBgNVHSMEGDAWgBS7sN6hWDOImqSKmd6+veuv2sskqzA3BgNVHR8EMDAuMCygKqAohiZodHRwOi8vY3JsLmFwcGxlLmNvbS9hcHBsZXJvb3RjYWczLmNybDAOBgNVHQ8BAf8EBAMCAQYwEAYKKoZIhvdjZAYCDgQCBQAwCgYIKoZIzj0EAwIDZwAwZAIwOs9yg1EWmbGG+zXDVspiv/QX7dkPdU2ijr7xnIFeQreJ+Jj3m1mfmNVBDY+d6cL+AjAyLdVEIbCjBXdsXfM4O5Bn/Rd8LCFtlk/GcmmCEm9U+Hp9G5nLmwmJIWEGmQ8Jkh0AADGCAYcwggGDAgEBMIGGMHoxLjAsBgNVBAMMJUFwcGxlIEFwcGxpY2F0aW9uIEludGVncmF0aW9uIENBIC0gRzMxJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MRMwEQYDVQQKDApBcHBsZSBJbmMuMQswCQYDVQQGEwJVUwIITDBBSVGdVDYwCwYJYIZIAWUDBAIBoIGTMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTI0MDIyNzE4MDU1NFowKAYJKoZIhvcNAQk0MRswGTALBglghkgBZQMEAgGhCgYIKoZIzj0EAwIwLwYJKoZIhvcNAQkEMSIEIDF6BnpNQCE5g2m2IqoFz/doDC3Njx4UknfECSAqtCZ9MAoGCCqGSM49BAMCBEYwRAIgZg5INWOn9NqDr45qw8OcFf8LCfvb+hZXn27yvsm9I3ICIE3srFW64zxWG6X6gKGjE6H9SZl5Fb/N5UtJ6ABHq0j1AAAAAAAA\\\",\\\"header\\\":{\\\"publicKeyHash\\\":\\\"joMq+QctmPSXP6nnXmZUFWoYuQcoSC6deHSZnZkdVvI=\\\",\\\"ephemeralPublicKey\\\":\\\"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEu5vghTd84/2L31reAKpEz3QlPZ8Y903ARh9hX3LwCzIXNP1Pz+7VGVhDRKYB9KxBEsPKt/qjKeEsONfQg==\\\",\\\"transactionId\\\":\\\"eba8cd14fb633f6669b0016dbc9e5c763a1ad7374920fe1733a26d2be90d\\\"},\\\"version\\\":\\\"EC_v1\\\"}\",\r\n                    \"billinginfo\": {\r\n                        \"number\": \"{{$randomInt}}\",\r\n                        \"name\": \"{{customerName}}\",\r\n                        \"phone\": \"{{$randomPhoneNumber}}\",\r\n                        \"taxedamount\": {{amount}},\r\n                        \"billedamount\": {{amount}},\r\n                        \"address\": {\r\n                            \"street\": \"{{$randomStreetName}}\",\r\n                            \"number\": \"{{$randomInt}}\",\r\n                            \"complement\": \"{{$randomStreetAddress}}\",\r\n                            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n                            \"city\": \"{{$randomCity}}\",\r\n                            \"state\": \"{{randomState}}\",\r\n                            \"country\": \"BR\",\r\n                            \"postalcode\": \"{{randomCep}}\",\r\n                            \"phone\": \"{{$randomPhoneNumber}}\"\r\n                        }\r\n                    },\r\n                    \"savecard\": false\r\n                }\r\n            }\r\n        ],\r\n        \"deliveryaddress\": {\r\n            \"street\": \"{{$randomStreetName}}\",\r\n            \"number\": \"{{$randomInt}}\",\r\n            \"complement\": \"{{$randomStreetAddress}}\",\r\n            \"neighborhood\": \"{{$randomAdjective}} {{$randomWord}}\",\r\n            \"city\": \"{{$randomCity}}\",\r\n            \"state\": \"{{randomState}}\",\r\n            \"country\": \"BR\",\r\n            \"postalcode\": \"{{randomCep}}\",\r\n            \"phone\": \"{{$randomPhoneNumber}}\"\r\n        },\r\n        \"countrycode\": \"BR\",\r\n        \"amount\": {{amount}},\r\n        \"currency\": \"BRL\"\r\n    },\r\n    \"frontdata\": {\r\n        \"useragent\": \"{{$randomUserAgent}}\",\r\n        \"IpAddress\": \"{{$randomIP}}\"\r\n    },\r\n    \"istest\": false,\r\n    \"isfromfrontend\": false\r\n}"
								},
								"url": {
									"raw": "https://engine.tunagateway.com/api/Payment/Init",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"api",
										"Payment",
										"Init"
									]
								}
							},
							"response": []
						}
					],
					"id": "10380885-6b1ffb64-5241-4743-a026-db6df8fa87b2",
					"description": "Follow [our documentation](https://dev.tuna.uy/plugins/javascript#using-apple-pay) for information regarding using Apple Pay at Tuna.\n\nWe recommend using out [javacript plugin](https://dev.tuna.uy/plugins/javascript#using-google-pay) for a quicker integration.\n\nCheck our [Apple Pay example form](https://checkout.tunagateway.com/extra/applePay.html) out.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "c4ca3940-9296-49b3-9b83-7c0aab5692f9",
								"type": "text/javascript",
								"packages": {},
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3429b198-338e-4a8d-98df-d26c9c6a9313",
								"type": "text/javascript",
								"packages": {},
								"exec": [
									""
								]
							}
						}
					]
				}
			],
			"id": "10380885-25cd0c3d-92c0-4908-9e9b-845bc71a8a1f",
			"description": "At Tuna, proprietary wallets like Nupay, Mercado Pago and PayPal are considered \"external\" payment methods and therefore we use payment method type \"9\" for them.\n\nIf you have more than one of these wallets, you need to create separated flows for them at Tuna, and to differentiate them you can use one of init's generic dicctionaries.\n\nIn these examples we've used PaymentMethod.Data.ExternalMethodType.\n\nApple Pay and Google Pay are not considered external since they will always be processed in a transparent fashion. The users merely pick the cards from their wallets using the mandatory client side scripts, then you need to send Tuna their encrypted tokens signaling that the Token provider is either \"GooglePay\" or \"ApplePay."
		},
		{
			"name": "Cancellations",
			"item": [
				{
					"name": "1. Cancel (engine api)",
					"id": "10380885-14950331-b742-4d01-9db4-7334449855fe",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"paymentKey\": \"{{paymentKey}}\",\n  \"CancelAll\": true\n }"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Cancel",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Cancel"
							]
						}
					},
					"response": []
				},
				{
					"name": "2. Cancel split (engine api)",
					"id": "10380885-83b14d1c-aaa0-4965-b256-98b4acb8598c",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"cardsDetail\": [\n        {\n            \"amount\": 20.4,\n            \"methodId\": 0,\n            \"Splits\": [\n                {\n                    \"MerchantID\": \"431\",\n                    \"Amount\": 20.4\n                }\n            ]\n        }\n    ],\n    \"paymentKey\": \"{{paymentKey}}\"\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Cancel",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Cancel"
							]
						}
					},
					"response": []
				},
				{
					"name": "3. Cancel Method (engine api)",
					"id": "10380885-08648625-1760-4647-b432-ae53e1d46bf0",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"paymentKey\": \"{{paymentKey}}\",\n    \"CardsDetail\": [\n        {\n            \"MethodId\": 0,\n            \"Amount\": {{amount}}\n        }\n    ],\n    \"CancelAll\": false\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Cancel",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Cancel"
							]
						}
					},
					"response": []
				},
				{
					"name": "4. Cancel Item (engine api)",
					"id": "10380885-2e1e8b12-635d-480e-998a-933d32426fe8",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"paymentKey\": \"{{paymentKey}}\",\n    \"itemsDetail\": [\n        {\n            \"itemQuantity\": 1,\n            \"detailUniqueId\": \"{{detailUniqueID}}\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/CancelItem",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"CancelItem"
							]
						}
					},
					"response": []
				}
			],
			"id": "10380885-9801f929-d38e-4a33-b937-0e570f383fee"
		},
		{
			"name": "Misc",
			"item": [
				{
					"name": "1. Validate Session (token api)",
					"id": "10380885-c0ce47f6-4c89-4c60-80d1-2964acc1d5fa",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"SessionId\": \"{{sessionid}}\"\r\n}\r\n"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/ValidateSession",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"ValidateSession"
							]
						}
					},
					"response": []
				},
				{
					"name": "2. Delete Token (token pai)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ec4de24a-2d0e-46b9-91ed-e2627a861a1e",
								"exec": [
									"var url = 'http' + pm.environment.get(\"ssl\") + '://' + pm.environment.get(\"tokenapi\") + '/api/Token/Delete';",
									"const postRequest = {",
									"  url: url,",
									"  method: 'OPTIONS',",
									"  header: {",
									"    'Content-Type': 'application/json',",
									"    'Access-Control-Request-Method': 'POST'",
									"  }",
									"};",
									"pm.sendRequest(postRequest, (error, response) => {",
									"  console.log(error ? error : response);",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-70ff33d7-4f73-47f9-bfaf-68192e03b8e6",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n   \"sessionID\": \"{{sessionid}}\",\r\n   \"token\": \"{{cardtoken}}\"\r\n}\r\n"
						},
						"url": {
							"raw": "https://token.tunagateway.com/api/Token/Delete",
							"protocol": "https",
							"host": [
								"token",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Token",
								"Delete"
							]
						}
					},
					"response": []
				},
				{
					"name": "3. Service List (engine api)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "331092af-f8d0-4281-a233-c0135f630424",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "7f1afc83-392b-4b36-bfda-c6e7ff1baade",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-5f2fad23-883d-47a0-9b11-78a8688daf32",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Service/List",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Service",
								"List"
							]
						}
					},
					"response": []
				},
				{
					"name": "4. Service Get (engine api)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "d75076e0-c142-43ab-9d0f-885bac0798ef",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "bff8c985-64ba-4a9c-96bf-3d386a7cc225",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-0db6aa35-2107-414d-bd5a-cfa6fc62e0fd",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ServiceId\": 38,\r\n    \"VersionId\": 1   \r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Service/Get",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Service",
								"Get"
							]
						}
					},
					"response": []
				},
				{
					"name": "5.1 Status (engine api)",
					"id": "10380885-eade8ce5-c180-497e-ab47-9ed8f4149fda",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \n    \"paymentKey\": \"{{paymentKey}}\"\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Status",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Status"
							]
						}
					},
					"response": []
				},
				{
					"name": "5.12 Status (by order)",
					"id": "10380885-8a419f1a-8ee5-43ac-94ba-b992afa688db",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \n    \"partnerUniqueID\": \"{{partneruniqueid}}\",\n    \"paymentDate\": {{today}}\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Status",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Status"
							]
						}
					},
					"response": []
				},
				{
					"name": "6. Notify Chargeback (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "dd360107-e02e-4539-a51a-6fa369054c5d",
								"exec": [
									"var jsonData = JSON.parse(responseBody);\r",
									"if (jsonData.paymentKey != null){\r",
									"    if (jsonData.paymentKey.split(':') != null){\r",
									"        postman.setEnvironmentVariable(\"paymentid\", jsonData.paymentKey.split(':')[1]);\r",
									"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
									"    }else{\r",
									"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9ce772bc-20dd-47ab-998d-930cca58a1af",
								"exec": [
									"var value = pm.environment.get(\"partneruniqueid\");\r",
									"pm.environment.set(\"partneruniqueid\", parseInt(value)+1);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-3baf2b06-51d7-428f-8179-e8431c4fd29b",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"EventName\": \"Chargeback\",\r\n    \"EventDescription\": \"Fraud\",\r\n    \"CardsDetail\": [\r\n        {\r\n            \"PaymentKey\": \"{{paymentKey}}\",\r\n            \"MethodId\": 0\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/NotifyEvent",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"NotifyEvent"
							]
						}
					},
					"response": []
				},
				{
					"name": "7.  Notify Delivery (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "dd360107-e02e-4539-a51a-6fa369054c5d",
								"exec": [
									"var jsonData = JSON.parse(responseBody);\r",
									"if (jsonData.paymentKey != null){\r",
									"    if (jsonData.paymentKey.split(':') != null){\r",
									"        postman.setEnvironmentVariable(\"paymentid\", jsonData.paymentKey.split(':')[1]);\r",
									"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
									"    }else{\r",
									"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9ce772bc-20dd-47ab-998d-930cca58a1af",
								"exec": [
									"var value = pm.environment.get(\"partneruniqueid\");\r",
									"pm.environment.set(\"partneruniqueid\", parseInt(value)+1);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-80a6e5da-ffc8-4d73-84e8-d9a2f7639aa9",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"EventName\": \"Delivery\",\r\n    \"EventDescription\": \"Delivery or order {{partneruniqueid}}\",\r\n    \"OrdersDetail\": [\r\n        {\r\n            \"PaymentKey\": \"{{paymentKey}}\",\r\n             \"items\": [\r\n                {\r\n                    \"detailUniqueID\": \"MK2043073IF92W-1#0\",\r\n                    \"itemQuantity\": 1,\r\n                    \"eventDate\": \"2024-06-01\"\r\n                }\r\n             ]\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/NotifyEvent",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"NotifyEvent"
							]
						}
					},
					"response": []
				},
				{
					"name": "8. Order Details (engine api)",
					"id": "10380885-82a50f0b-3849-433e-ae4e-971fd3445779",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"paymentKey\": \"{{paymentKey}}\"\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/OrderDetails",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"OrderDetails"
							]
						}
					},
					"response": []
				},
				{
					"name": "9. Order Refund Details (engine api)",
					"id": "10380885-e412078c-906d-4c73-84d2-696e40a138ba",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \n    \"paymentKey\": \"{{paymentKey}}\"\n}   "
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/RefundsOrderDetails",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"RefundsOrderDetails"
							]
						}
					},
					"response": []
				},
				{
					"name": "10. Payment Methods (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6ed7f05c-7344-4aac-a088-812092c23485",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "a4427f83-e410-4256-a676-dde44f368ad4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-4dc21430-418e-4d1e-ad13-05b7ba75c261",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							},
							{
								"key": "",
								"value": "",
								"disabled": true
							}
						],
						"url": {
							"raw": "https://engine.tunagateway.com/api/Partner/GetAvailablePaymentMethodTypes",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Partner",
								"GetAvailablePaymentMethodTypes"
							]
						}
					},
					"response": []
				},
				{
					"name": "11. Function - BPNL Availability (engine api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ddd2592a-1c74-4ada-944c-42c2a63bed54",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f49c2f87-1fa8-4df2-a0c9-87cd9a7110fd",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-3d03ed0e-fddf-4a4b-b747-8327e56decbe",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"FunctionName\": \"KoinOptions\",\n  \"Args\": {\n    \"JsonString\": \"{\\\"store\\\":{\\\"code\\\":\\\"SBXSTORE\\\"},\\\"transaction\\\":{\\\"reference_id\\\":\\\"REF0000001\\\",\\\"business_id\\\":\\\"BIZ0000001\\\",\\\"account\\\":\\\"SBX000\\\",\\\"amount\\\":{\\\"currency_code\\\":\\\"BRL\\\",\\\"value\\\":200}},\\\"country_code\\\":\\\"BR\\\",\\\"payment_method\\\":{\\\"code\\\":\\\"BNPL\\\"},\\\"payer\\\":{\\\"document\\\":{\\\"type\\\":\\\"cpf\\\",\\\"number\\\":\\\"54672396002\\\"},\\\"email\\\":\\\"jhon_doe@domain.com\\\"},\\\"ip_address\\\":\\\"192.0.2.146\\\",\\\"device_fingerprint\\\":\\\"3f139f92d30d54f1aaf519b3a39a20814\\\",\\\"items\\\":[]}\"\n  }\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Payment/Function",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Payment",
								"Function"
							]
						}
					},
					"response": []
				}
			],
			"id": "10380885-7224d358-b4ba-457c-96a0-2158e8587667"
		},
		{
			"name": "Merchants",
			"item": [
				{
					"name": "1. Register (merchant api)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1eb7eba9-f43c-475b-bdbe-99386db77325",
								"exec": [
									"var jsonData = JSON.parse(responseBody);\r",
									"if (jsonData.paymentKey != null){\r",
									"    if (jsonData.paymentKey.split(':') != null){\r",
									"        postman.setEnvironmentVariable(\"paymentid\", jsonData.paymentKey.split(':')[1]);\r",
									"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
									"    }else{\r",
									"        postman.setEnvironmentVariable(\"paymentKey\", jsonData.paymentKey);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "07832ff2-33c6-4020-b016-45192ae4dc91",
								"exec": [
									"var value = pm.environment.get(\"partneruniqueid\");\r",
									"pm.environment.set(\"partneruniqueid\", parseInt(value)+1);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "10380885-68bd72d6-efd3-4ecd-b067-7e2d0e8e9752",
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"externalId\": \"Acme2\",\r\n    \"name\": \"Acme Inc2\",\r\n    \"documentType\": \"CNPJ\",\r\n    \"document\": \"25676606000172\",\r\n    \"fantasyname\": \"Acme Products\",\r\n    \"multistore\": false,\r\n    \"paymentbymain\": true,\r\n    \"contact\": {\r\n        \"name\": \"John Doe\",\r\n        \"email\": \"john.doe@acme.com.br\",\r\n        \"cellphone\": \"11999717171\"\r\n    },\r\n    \"Address\": {\r\n        \"Street\": \"Rodovia Acme Road\",\r\n        \"Number\": \"1234\",\r\n        \"Complement\": \"Bloco A\",\r\n        \"Neighborhood\": \"Jardim Botanico\",\r\n        \"City\": \"Rio de Janeiro\",\r\n        \"State\": \"RJ\",\r\n        \"PostalCode\": \"22470240\"\r\n    },\r\n    \"statusid\": \"2\",\r\n    \"paymentblocked\": false,\r\n    \"mcccode\": \"1235\",\r\n    \"registrationdate\": \"2021-08-19\",\r\n    \"websiteurl\": \"https://www.acme.com.br/\",\r\n    \"statefiscaldocument\": \"ISENTO\",\r\n    \"defaultfeepercent\": 4.5,\r\n    \"acceptedcontract\": true,\r\n    \"marketplacestore\": true,\r\n    \"color\": \"#008000\",\r\n    \"registration\": {\r\n        \"transfer_day\": \"monthly\",\r\n        \"transfer_frequency\": 30,\r\n        \"transfer_enabled\": true,\r\n        \"payment_plan\": 1\r\n    },\r\n    \"condition\": \"1\",\r\n    \"legalrepresentative\": {\r\n        \"name\": \"James Jameson\",\r\n        \"document\": \"55538332000116\",\r\n        \"birthday\": \"1999-10-10\"\r\n    },\r\n    \"bankaccounts\": [\r\n        {\r\n            \"externalId\": \"1001234\",\r\n            \"document\": \"55538332000116\",\r\n            \"documentType\": \"CNPJ\",\r\n            \"accounttype\": \"C\",\r\n            \"bankcode\": \"341\",\r\n            \"agency\": \"2946\",\r\n            \"number\": \"0733-9\",\r\n            \"accountservices\": [\r\n                {\r\n                    \"id\": \"SAP\",\r\n                    \"accountcode\": \"CC485\"\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    \"services\": [\r\n        {\r\n            \"ServiceId\": \"SAP\",\r\n            \"customerId\": \"0000289740\",\r\n            \"providerId\": \"0000456677\"\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com//api/Merchant/Register",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"",
								"api",
								"Merchant",
								"Register"
							]
						}
					},
					"response": [
						{
							"id": "10380885-a55000eb-da59-4870-b48f-b916cd458a64",
							"name": "Very minimal",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "x-tuna-account",
										"value": "{{x-tuna-account}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"ExternalId\": \"{{$randomUUID}}\",\r\n  \"Document\": \"{{randomCNPJ}}\",\r\n  \"DocumentType\": \"CNPJ\",\r\n  \"Name\": \"{{$randomCompanyName}}\",\r\n  \"FantasyName\": \"{{$randomCompanyName}} LTDA\",\r\n  \"Condition\": \"\" /* change */,\r\n  \"PixKeyType\": \"2\",\r\n  \"PixKey\": \"{{randomCNPJ}}\",\r\n  \"Contact\": {\r\n    \"Email\": \"{{$randomEmail}}\"\r\n  },\r\n  \"LegalRepresentative\": {\r\n    \"Name\": \"{{$randomFirstName}} {{$randomLastName}}\"\r\n  }\r\n}"
								},
								"url": {
									"raw": "https://engine.tunagateway.com//api/Merchant/Register",
									"protocol": "https",
									"host": [
										"engine",
										"tunagateway",
										"com"
									],
									"path": [
										"",
										"api",
										"Merchant",
										"Register"
									]
								}
							},
							"_postman_previewlanguage": null,
							"header": null,
							"cookie": [],
							"responseTime": null,
							"body": null
						}
					]
				},
				{
					"name": "2. Get (merchant api)",
					"id": "10380885-ef889c73-6c01-4ec0-9c7e-19178a95f177",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"MerchantID\": \"2\"\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Merchant/GetMerchant",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Merchant",
								"GetMerchant"
							]
						}
					},
					"response": []
				},
				{
					"name": "3. List (merchant api)",
					"id": "10380885-dd2a6cf7-52bd-4f59-8d7f-d7b913d9f6a8",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"RowsPerPage\": 10,\n    \"PageNumber\": 1,\n     \"name\":\"\"\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Merchant/GetMerchantList",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Merchant",
								"GetMerchantList"
							]
						}
					},
					"response": []
				},
				{
					"name": "4. Statement (merchant api)",
					"id": "10380885-53c6979f-d27e-4fe4-ad52-be472e767b96",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"MerchantID\": \"2\",\n    \"DateFrom\": \"2024-02-15\",\n    \"DateTo\": \"2024-02-21\"\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Merchant/Statement",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Merchant",
								"Statement"
							]
						}
					},
					"response": []
				},
				{
					"name": "4. ConsolidatedStatement (merchant api)",
					"id": "10380885-29eb46da-0c36-4476-9db4-183e6cf62e8a",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"MerchantID\": \"2\",\n    \"DateFrom\": \"2024-02-15\",\n    \"DateTo\": \"2024-02-21\"\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Merchant/Statement",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Merchant",
								"Statement"
							]
						}
					},
					"response": []
				},
				{
					"name": "5. Transactions (merchant api)",
					"id": "10380885-43b21de4-2783-4b7e-b65a-ddd9bb6d6dee",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"MerchantID\": \"71598\",\n    \"DateFrom\": \"2024-07-01\",\n    \"DateTo\": \"2024-07-02\",\n    \"PageSize\": 10,\n    \"PageNumber\":1,\n    \"DateSortAsc\":false\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Merchant/Transactions",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Merchant",
								"Transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "6. Get Summary",
					"id": "10380885-da8bbb2f-3b6b-4c29-a3cb-303e29fbe7e1",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"ExternalId\": \"c324f7f4-6d18-42ae-84c4-9aeb23252e77\"\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Merchant/GetMerchantSummary",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Merchant",
								"GetMerchantSummary"
							]
						}
					},
					"response": []
				},
				{
					"name": "7. Flags Change",
					"id": "10380885-46b9039a-7784-4e7b-ad59-15152c8685ab",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-tuna-account",
								"value": "{{x-tuna-account}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"ExternalId\": \"c324f7f4-6d18-42ae-84c4-9aeb23252e77\",\n    \"AutomaticPayOnWeekend\": false\n}"
						},
						"url": {
							"raw": "https://engine.tunagateway.com/api/Merchant/FlagsChange",
							"protocol": "https",
							"host": [
								"engine",
								"tunagateway",
								"com"
							],
							"path": [
								"api",
								"Merchant",
								"FlagsChange"
							]
						}
					},
					"response": []
				}
			],
			"id": "10380885-74f7b5f0-fcb6-4437-8b2a-42b8b8f5092f"
		}
	],
	"auth": {
		"type": "apikey",
		"apikey": [
			{
				"key": "value",
				"value": "{{x-tuna-apptoken}}",
				"type": "string"
			},
			{
				"key": "key",
				"value": "x-tuna-apptoken",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "abc1d742-a74e-47fe-8540-838fd0da47ee",
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					"pm.collectionVariables.set(\"randomCNPJ\", Array.from({length: 12}, () => Math.floor(Math.random() * 9 + 1)).concat([0,0,0,0]).map((v,i,a) => v + (i<12?(a[12]+=2*v*(13-i)%11,-1):(i==12?(a[12]=a[12]%11>1?11-a[12]%11:0,-1):a[13]+=v*(14-i)%11,-1))).join('').replace(/-1/g, '').replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})/, \"$1.$2.$3/$4-$5\"));\r",
					"\r",
					"if(pm.collectionVariables.get(\"useRealDocument\") == \"true\"){\r",
					"    pm.collectionVariables.set(\"documentType\",pm.collectionVariables.get(\"realDocumentType\"));\r",
					"    pm.collectionVariables.set(\"document\",pm.collectionVariables.get(\"realDocument\"));\r",
					"} else {\r",
					"    var docType =  Math.round(Math.random()) == 1 ? \"CPF\" : \"CNPJ\";\r",
					"    pm.collectionVariables.set(\"documentType\",docType);\r",
					"\r",
					"    var doc = docType === 'CPF' ? Array.from({length: 9}, () => Math.floor(Math.random() * 9 + 1)).concat([0,0]).map((v,i,a) => v + (i<9?(a[9]+=2*v*(10-i)%11,-1):(i==9?(a[9]=a[9]%11>1?11-a[9]%11:0,-1):a[10]+=v*(11-i)%11,-1))).join('').replace(/-1/g, '').replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{2})/, \"$1.$2.$3-$4\") : Array.from({length: 12}, () => Math.floor(Math.random() * 9 + 1)).concat([0,0,0,0]).map((v,i,a) => v + (i<12?(a[12]+=2*v*(13-i)%11,-1):(i==12?(a[12]=a[12]%11>1?11-a[12]%11:0,-1):a[13]+=v*(14-i)%11,-1))).join('').replace(/-1/g, '').replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})/, \"$1.$2.$3/$4-$5\");\r",
					"    pm.collectionVariables.set(\"document\",doc);\r",
					"}\r",
					"\r",
					"var customerName = pm.collectionVariables.get(\"customerName\");\r",
					"if (customerName == null || customerName == \"\") {\r",
					"    pm.collectionVariables.set(\"customerName\", \"{{$randomFirstName}} {{$randomLastName}}\");\r",
					"    pm.collectionVariables.set(\"customerEmail\", \"{{$randomEmail}}\");\r",
					"    pm.collectionVariables.set(\"customerId\", \"{{$randomUUID}}\");\r",
					"}\r",
					"\r",
					"var cep = Array.from({length: 8}, () => Math.floor(Math.random() * 9 + 1)).join('').replace(/(\\d{5})(\\d{3})/, \"$1-$2\");\r",
					"pm.collectionVariables.set(\"randomCep\", cep);\r",
					"\r",
					"var states = ['AC', 'AL', 'AP', 'AM', 'BA', 'CE', 'DF', 'ES', 'GO', 'MA', 'MT', 'MS', 'MG', 'PA', 'PB', 'PR', 'PE', 'PI', 'RJ', 'RN', 'RS', 'RO', 'RR', 'SC', 'SP', 'SE', 'TO'];\r",
					"var state = states[Math.floor(Math.random() * states.length)];\r",
					"pm.collectionVariables.set(\"randomState\", state);\r",
					"\r",
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "eca82397-7390-43f1-9a5f-c935dda164a0",
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "Code",
			"value": ""
		},
		{
			"key": "ReferenceId\n",
			"value": ""
		},
		{
			"key": "TransactionId",
			"value": ""
		},
		{
			"key": "partneruniqueid",
			"value": "12345"
		},
		{
			"key": "sessionid",
			"value": ""
		},
		{
			"key": "cardtoken",
			"value": ""
		},
		{
			"key": "paymentKey",
			"value": ""
		},
		{
			"key": "document",
			"value": ""
		},
		{
			"key": "documentType",
			"value": "CPF"
		},
		{
			"key": "amount",
			"value": "1"
		},
		{
			"key": "customerName",
			"value": ""
		},
		{
			"key": "customerEmail",
			"value": ""
		},
		{
			"key": "customerId",
			"value": ""
		},
		{
			"key": "randomCNPJ",
			"value": ""
		},
		{
			"key": "randomCep",
			"value": ""
		},
		{
			"key": "randomState",
			"value": ""
		},
		{
			"key": "useRealDocument",
			"value": "false"
		},
		{
			"key": "realDocument",
			"value": "087.145.977-99"
		},
		{
			"key": "realDocumentType",
			"value": "CPF"
		},
		{
			"key": "paymentId",
			"value": ""
		},
		{
			"key": "ReferenceId",
			"value": ""
		},
		{
			"key": "reusablePartnerUniqueId",
			"value": ""
		}
	]
}